onmessage=function(e){postMessage(gatherSignals(e.data));}

gatherSignals = function i(e){function t(e,t){var n="monospace";t.font="10px "+n;var r=t.measureText("MW").width;return t.font="10px "+e+", "+n,r!==t.measureText("MW").width}function n(e){for(var t=e.data,n=new Uint8Array(e.width*e.height),r=0,o=0;r<t.length;r+=4,o++){var i=t[r],a=t[r+1],s=t[r+2];n[o]=.299*i+.587*a+.114*s}return n}function r(e){var t=String.fromCharCode.apply(null,e);return btoa(t)}var o=e;try{var i=new OffscreenCanvas(10,12).getContext("2d",{willReadFrequently:!0});i.textBaseline="middle",i.textAlign="center";for(var a=0,s=Object.keys(e);a<s.length;a++)for(var c=s[a],u=0,d=Object.keys(e[c]);u<d.length;u++){var f=d[u];if(t(c,i)){i.fillStyle="white",i.fillRect(0,0,10,12),i.fillStyle="black",i.font="10px "+c,i.fillText(f,5,6);var l=r(n(i.getImageData(0,0,10,12)));o[c][f]=l}else o[c][f]="na"}return o}catch(e){return{err:{message:e.message,name:e.name}}}}