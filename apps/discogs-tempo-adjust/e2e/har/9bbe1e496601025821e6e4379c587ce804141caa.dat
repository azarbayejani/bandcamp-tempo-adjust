/*! For license information please see 4a5420ae.js.LICENSE.txt */
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8237],{2837:(e,t,r)=>{r.d(t,{E:()=>U});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(18665),r(59581),r(87787),r(64189),r(98741),r(94009),r(97755),r(36012),r(15852),r(10678),r(3101),r(41412),r(7899),r(4632),r(5086),r(69193),r(45708),r(29979),r(58379),r(14602);var n=r(91516),o=r(87604),i=r(50453),a=r(24742),c=r(48017),u=r(18505);const l={more:"more_l_ob7"};var s=r(74848);function f(e){var t=e.name,r=e.path,o=(0,u.Mj)();return(0,s.jsxs)(c.N,{href:r,className:l.more,onClick:function(){o("View More Lists")},children:[(0,s.jsx)(n.x6,{id:"View More {name}",values:{name:t}})," →"]})}var d=r(2292),p=r(73407),y=r(4306),m=r(11342),v=r(95427),b=r(64308),h=(r(80115),r(18636),r(15195),r(4895),r(14913),r(79389),r(87136),r(6048),r(83744)),g=r(25097),j=r(87556);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function x(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return O(l,"_invoke",function(r,n,o){var i,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,c=0,u=e,d.n=r,a}};function p(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,d.v=n,d.n=i[1]):p<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),c=s,u=y;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:r.call(n,d))!==a)break}catch(t){i=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(O(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,O(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,O(f,"constructor",l),O(l,"constructor",u),u.displayName="GeneratorFunction",O(l,o,"GeneratorFunction"),O(f),O(f,o,"Generator"),O(f,n,(function(){return this})),O(f,"toString",(function(){return"[object Generator]"})),(x=function(){return{w:i,m:d}})()}function O(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}O=function(e,t,r,n){function i(t,r){O(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},O(e,t,r,n)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function A(e){return e===g.SP9.MasterRelease?"MasterRelease":e===g.SP9.Artist?"Artist":e===g.SP9.Label?"Label":"Release"}function R(){var e=T((0,g.ag5)(),2),t=e[0],r=e[1],n=(0,j.ux)(h.Ru._("Could not remove the list item"));function o(){var e;return e=x().m((function e(r){var o,i,a;return x().w((function(e){for(;;)switch(e.n){case 0:return o=r.listId,i=r.discogsId,a=r.itemType,e.n=1,t({variables:{input:{itemType:a,itemDiscogsId:i,listDiscogsId:o}},optimisticResponse:{removeFromList:{__typename:"RemoveItemPayload",success:!0}},update:function(e,t){e.modify({id:e.identify({__typename:A(a),discogsId:i}),fields:{lists:function(r){var n;if(!r||null===(n=t.data)||void 0===n||null===(n=n.removeFromList)||void 0===n||!n.success)return r;var i=e.identify({__typename:"CuratedList",discogsId:o});return P(P({},r),{},{totalCount:Math.max(0,r.totalCount-1),edges:r.edges.filter((function(e){return e.node.__ref!==i}))})}}}),e.modify({id:e.identify({__typename:"Query"}),fields:{viewer:function(r){var n;if(!r||null===(n=t.data)||void 0===n||null===(n=n.removeFromList)||void 0===n||!n.success)return r;for(var c=e.identify({__typename:"CuratedList",discogsId:o}),u=['lists:{"catalogItem":{"itemDiscogsId":'.concat(i,',"itemType":"').concat(a,'"}}'),'lists:{"catalogItem":{"itemType":"'.concat(a,'","itemDiscogsId":').concat(i,"}}"),"lists:{}"],l=P({},r),s=0,f=u;s<f.length;s++){var d=f[s],p=r[d];p&&(p.edges.find((function(e){var t;return(null===(t=e.node)||void 0===t?void 0:t.__ref)===(null==c?void 0:c.__ref)}))||(l[d]=P(P({},p),{},{totalCount:Math.max(0,p.totalCount-1),edges:p.edges.filter((function(e){var t;return(null===(t=e.node)||void 0===t?void 0:t.__ref)!==c}))})))}return l}}})}}).catch(n);case 1:return e.a(2)}}),e)})),o=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){I(i,n,o,a,c,"next",e)}function c(e){I(i,n,o,a,c,"throw",e)}a(void 0)}))},o.apply(this,arguments)}return P(P({},r),{},{perform:function(e){return o.apply(this,arguments)}})}const E={simple:"simple_Wv2_L",add:"add_Tyr5k",remove:"remove_V3ZB5",title:"title_YrK2A"};function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return M(l,"_invoke",function(r,n,o){var i,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,c=0,u=e,d.n=r,a}};function p(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,d.v=n,d.n=i[1]):p<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),c=s,u=y;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:r.call(n,d))!==a)break}catch(t){i=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(M(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,M(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,M(f,"constructor",l),M(l,"constructor",u),u.displayName="GeneratorFunction",M(l,o,"GeneratorFunction"),M(f),M(f,o,"Generator"),M(f,n,(function(){return this})),M(f,"toString",(function(){return"[object Generator]"})),(L=function(){return{w:i,m:d}})()}function M(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}M=function(e,t,r,n){function i(t,r){M(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},M(e,t,r,n)}function G(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function U(e){var t,r,c=e.discogsId,l=e.user,h=e.itemType,g=e.lists,j=(0,d.vz)().loggedIn,w=(0,b.m)(),x=(0,m.SC)(),O=(0,u.Mj)(),S=R(),P=(0,s.jsx)(n.x6,{id:"Add Master to List"});function _(){j||arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(O("Filter - Add to List"),w.open(h,c)):(0,d.iD)()}function I(){O("List Click")}function T(){_()}(0,p.wk)([y.a,y.l],"action",P,(function(){_(!0)}));var k=new Set,A=l&&(0,o.P8)(null!==(t=null===(r=l.lists)||void 0===r?void 0:r.edges)&&void 0!==t?t:[]).map((function(t){var r=t.name,n=t.discogsId,o=t.url;function i(){var t;return t=L().m((function t(){return L().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,x.ask();case 1:if(!t.v){t.n=2;break}return t.n=2,S.perform({listId:n,discogsId:e.discogsId,itemType:h});case 2:return t.a(2)}}),t)})),i=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){G(i,n,o,a,c,"next",e)}function c(e){G(i,n,o,a,c,"throw",e)}a(void 0)}))},i.apply(this,arguments)}return k.add(n),(0,s.jsx)(B,{name:r,url:o,username:l.username,onRemove:function(){return i.apply(this,arguments)},removing:S.loading,onClick:I},n)})),D=(0,o.P8)(null==g?void 0:g.edges).map((function(e){var t=e.name,r=e.discogsId,n=e.url,o=e.curator;return k.has(r)?null:(0,s.jsx)(B,{name:t,url:n,username:o.username,onClick:I},r)})),N="curated-lists",F=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:E.title,tabIndex:0,children:(0,s.jsx)(n.x6,{id:"Lists"})}),(0,s.jsx)(a.$,{color:"link",onClick:T,className:E.add,children:(0,s.jsx)(n.x6,{id:"Add to List"})})]});return g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.w,{id:N,collapsible:"ARTIST"!==h,header:F,children:[(0,s.jsxs)("ul",{className:E.simple,children:[A,D]}),0===g.edges.length&&(0,s.jsx)(a.$,{color:"link",onClick:T,children:(0,s.jsx)(n.x6,{id:"Add to List"})}),g.edges.length>0&&(0,s.jsx)(f,{path:"/lists",name:"Lists"}),(0,s.jsx)(m.m,C(C({confirmText:(0,s.jsx)(n.x6,{id:"Remove Item"})},x.props),{},{danger:!0,children:(0,s.jsx)(n.x6,{id:"Are you sure you want to remove this item?"})}))]}),w.component]}):(0,s.jsx)(i.w,{id:N,collapsible:"ARTIST"!==h,title:(0,s.jsx)(n.x6,{id:"Lists"}),children:(0,s.jsx)(v.R,{height:"3em"})})}function B(e){var t=e.name,r=e.url,o=e.username,i=e.onRemove,u=e.removing,l=e.onClick;return(0,s.jsxs)("li",{children:[(0,s.jsx)(n.x6,{id:"<0>{name}</0> by <1>{username}</1>",values:{name:t,username:o},components:{0:(0,s.jsx)(c.N,{href:r,onClick:l}),1:(0,s.jsx)(c.N,{href:"/user/".concat(o)})}}),i&&(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)(a.$,{onClick:i,className:E.remove,color:"link",disabled:u,children:(0,s.jsxs)("small",{children:["(",(0,s.jsx)(n.x6,{id:"remove"}),")"]})})]})]})}},87303:(e,t,r)=>{r.d(t,{r:()=>d});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(19693),r(18665),r(87787),r(94009),r(36012),r(15852),r(10678),r(3101),r(7899),r(5086),r(29979),r(58379),r(14602),r(80115),r(77249);var n=r(24180),o=r(48017);const i={link:"link_ARrWm"};var a=r(74848);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var u=["imageId"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=e.imageId,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,u),c=(0,n.zy)(),l=(0,n.W5)(),f=s(s({},c),{},{pathname:"".concat(l.url,"/image/").concat(t)});return(0,a.jsx)(o.N,s(s({internal:!0,replace:!0,href:f},r),{},{className:i.link}))}},97650:(e,t,r)=>{r.d(t,{R:()=>D});r(69127),r(33277),r(95361),r(63534),r(40590),r(64216),r(80115),r(36611),r(18665),r(98741),r(87787),r(94009),r(15852),r(5086),r(69193),r(38802),r(29979),r(14602);var n=r(91516),o=r(92769),i=r.n(o),a=r(12136),c=(r(17),r(18636),r(58476),r(15195),r(4895),r(36012),r(10678),r(3101),r(7899),r(45708),r(58379),r(25097));const u={shoppingBox:"shoppingBox_RlQgs"};var l=r(74848);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var p=function(e){return"object"===d(e)&&null!==e},y=function(e){return p(e)&&"GA_EVENT"===e.type&&"string"==typeof e.eventName},m=new Set;function v(e){var t=e.discogsId,r=e.template,n="https://www.discogs.com/service/shopping/box",i=(0,o.useMemo)((function(){switch(r){case c.SP9.MasterRelease:return"".concat(n,"?template=master&masterId=").concat(t);case c.SP9.Release:return"".concat(n,"?template=release&releaseId=").concat(t);case c.SP9.Artist:return"".concat(n,"?template=artist&artistId=").concat(t);case c.SP9.Label:return"".concat(n,"?template=label&labelId=").concat(t);default:return n}}),[t,r]),a=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e=a.current,t=null==e?void 0:e.contentWindow;return t&&m.add(t),function(){t&&m.delete(t)}}),[]),(0,l.jsx)("iframe",{sandbox:"allow-same-origin allow-scripts allow-popups allow-top-navigation-by-user-activation",ref:a,src:i,className:"".concat(u.shoppingBox," shopping-box-iframe")})}"undefined"!=typeof window&&window.addEventListener("message",(function(e){if(m.has(e.source)){var t,r=e.data,n=p(t=r)&&"number"==typeof t.iframeHeight,o=y(r);if(n||o){var i=document.querySelectorAll("iframe.shopping-box-iframe"),a=Array.from(i).find((function(t){return t.contentWindow===e.source}));if(n){if(a){var c=r.iframeHeight;a.style.height="".concat(c,"px")}}else if(y(r)){var u=window;Array.isArray(u.dataLayer)&&u.dataLayer.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({event:r.eventName},r.data||{}))}}}}));var b=r(12221),h=r(48017),g=r(50453),j=r(72122),w=r(56976),x=r(84696),O=r(2292),S=r(18505);const P={noItems:"noItems_TD6Gz",external:"external_bb76b"};function _(){return(0,l.jsxs)("div",{className:P.noItems,children:[(0,l.jsx)("p",{children:(0,l.jsx)(n.x6,{id:"No items available in the Marketplace"})}),(0,l.jsx)("p",{children:(0,l.jsxs)(h.N,{href:"https://www.discogs.com/selling",target:"_blank",rel:"noreferrer noopener",children:[(0,l.jsx)(n.x6,{id:"Learn more about selling on Discogs"}),(0,l.jsx)(x.GrD,{className:P.external,"aria-hidden":"true"})]})})]})}const I={skittle:"skittle_Zh6Gu",header:"header_wVfFf",forSale:"forSale_b8lXV",mpData:"mpData_VM6RT",buttons:"buttons_cLX3q",sellLink:"sellLink_BLGF2",external:"external_YDDdY",paragraph:"paragraph_aFTXh"};function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}var k;function A(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=i().lazy((function(){return r.e(5143).then(r.t.bind(r,35143,23))})),E=(A(A(A(A(A(A(A(A(A(A(k={},j.y.CD,(0,l.jsx)(n.x6,{id:"Sell CD"})),j.y.CDr,(0,l.jsx)(n.x6,{id:"Sell CDr"})),j.y.DVD,(0,l.jsx)(n.x6,{id:"Sell DVD"})),j.y.Cassette,(0,l.jsx)(n.x6,{id:"Sell Cassette"})),j.y.File,(0,l.jsx)(n.x6,{id:"Sell File"})),j.y.Vinyl,(0,l.jsx)(n.x6,{id:"Sell Vinyl"})),j.y.BoxSet,(0,l.jsx)(n.x6,{id:"Sell Box Set"})),j.y.BluRay,(0,l.jsx)(n.x6,{id:"Sell Blu-ray"})),j.y.VHS,(0,l.jsx)(n.x6,{id:"Sell VHS"})),j.y.ReelToReel,(0,l.jsx)(n.x6,{id:"Sell Reel-To-Reel"})),A(A(A(A(k,j.y.UMatic,(0,l.jsx)(n.x6,{id:"Sell U-Matic"})),j.y.BetacamSP,(0,l.jsx)(n.x6,{id:"Sell Betacam-SP"})),j.y.AllMedia,(0,l.jsx)(n.x6,{id:"Sell All Media"})),j.y.Unknown,(0,l.jsx)(n.x6,{id:"Sell a Copy"})));function D(e){var t,r,i=(0,b.oF)().i18n,u=e.discogsId,s=e.blockedFromSale,f=e.listings,d=e.formats,p=e.lowestPrice,y=e.myListings,m=e.itemType,P=e.physicalFormats,T=void 0===P||P,k=e.flags,D=(0,O.vz)().user,N=(0,S.Mj)(),C=A(A(A(A({},c.SP9.Release,k.esiReleaseShoppingBox),c.SP9.MasterRelease,k.esiMasterShoppingBox),c.SP9.Artist,k.esiArtistShoppingBox),c.SP9.Label,k.esiLabelShoppingBox)[m],F=(null!=f?f:{}).totalCount,L=void 0===F?0:F,M=(0,j.a)(null==d||null===(t=d[0])||void 0===t?void 0:t.name),G=A(A(A(A({},c.SP9.MasterRelease,{id:"master-release-marketplace",digital:!1,buyUrl:"/sell/list?master_id=".concat(u),sellUrl:"/sell",buyButtonText:(0,l.jsx)(n.x6,{id:"Shop now"}),sellButtonText:(0,l.jsx)(n.x6,{id:"Sell a copy"})}),c.SP9.Release,{id:"release-marketplace",digital:!0,buyUrl:"/sell/release/".concat(u),sellUrl:"/sell/post/".concat(u),buyButtonText:(0,l.jsx)(n.x6,{id:"Shop now"}),sellButtonText:E[M]}),c.SP9.Artist,{id:"artist-marketplace",digital:!0,buyUrl:"/sell/list?artist_id=".concat(u),sellUrl:"/sell",buyButtonText:(0,l.jsx)(n.x6,{id:"Shop now"}),sellButtonText:(0,l.jsx)(n.x6,{id:"Sell a copy"})}),c.SP9.Label,{id:"label-marketplace",digital:!0,buyUrl:"/sell/list?label_id=".concat(u),sellUrl:"/sell",buyButtonText:(0,l.jsx)(n.x6,{id:"Shop now"}),sellButtonText:(0,l.jsx)(n.x6,{id:"Sell a copy"})})[m],U=G.digital,B=G.buyUrl,$=G.sellUrl,W=G.buyButtonText,Q=G.id;if(s)return(0,l.jsxs)(g.w,{title:(0,l.jsx)(n.x6,{id:"For Sale"}),id:"release-marketplace",children:[(0,l.jsx)("p",{className:I.paragraph,children:(0,l.jsx)(n.x6,{id:"This release is blocked from sale on Discogs. It is not permitted to sell this item in our Marketplace."})}),(0,l.jsx)("p",{children:(0,l.jsxs)(h.N,{href:"https://support.discogs.com/hc/articles/4402686008589",children:[(0,l.jsx)(n.x6,{id:"Learn more about blocked items on Discogs"}),(0,l.jsx)(x.GrD,{className:I.external,"aria-hidden":"true"})]})})]});if(U&&1===(null==d?void 0:d.length)&&"File"===M)return(0,l.jsxs)(g.w,{title:(0,l.jsx)(n.x6,{id:"For Sale"}),id:"release-marketplace",collapsible:!1,children:[(0,l.jsx)("p",{children:(0,l.jsx)(n.x6,{id:"Digital content is not available for sale or trade."})}),(0,l.jsxs)(h.N,{href:"https://www.discogs.com/selling",target:"_blank",rel:"noreferrer noopener",children:[(0,l.jsx)(n.x6,{id:"Learn more about selling on Discogs"}),(0,l.jsx)(x.GrD,{className:I.external,"aria-hidden":"true"})]})]});if(!T)return(0,l.jsx)(g.w,{title:(0,l.jsx)(n.x6,{id:"For Sale"}),id:"release-marketplace",collapsible:!1,children:(0,l.jsx)("p",{children:(0,l.jsx)(n.x6,{id:"Digital content is not available for sale or trade."})})});function H(){N("Buy Item")}var V=(0,l.jsxs)("div",{className:I.header,children:[(0,l.jsx)("h2",{children:(0,l.jsx)(n.x6,{id:"For Sale"})}),(0,l.jsx)(h.N,{"aria-label":i._("Sell a Copy"),title:i._("Sell a Copy"),href:$,onClick:function(){N("Sell Item")},className:I.sellLink,children:"Sell a copy"})]}),z=m===c.SP9.Artist&&k.esiArtistShoppingBox?(0,l.jsx)(o.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading remote component..."}),children:(0,l.jsx)(R,{discogsId:u,template:m})}):C?(0,l.jsx)(v,{discogsId:u,template:m}):(0,l.jsxs)("div",{className:I.mpData,children:[(0,l.jsx)("h2",{children:(null!==(r=null==y?void 0:y.totalCount)&&void 0!==r?r:0)>0&&D&&(0,l.jsx)(h.N,{"aria-label":i._("{0} in Inventory",{0:null==y?void 0:y.totalCount}),title:i._("{0} in Inventory",{0:null==y?void 0:y.totalCount}),href:"".concat(B,"?seller=").concat(D.username),className:I.skittle,children:null==y?void 0:y.totalCount.toLocaleString()})}),L>0&&(0,l.jsx)(w.j,{buyUrl:B,lowestPrice:p||void 0,copiesForSale:L,onClick:H})]});return(0,l.jsxs)(g.w,{header:V,id:Q,collapsible:!1,children:[L<=0&&!C&&(0,l.jsx)(_,{}),z,!C&&(0,l.jsx)("div",{className:I.buttons,children:L>0&&(0,l.jsx)(a.A,{href:B,variant:"primary",dense:!0,onClick:H,className:"ld-shop-now",children:W})})]})}},87339:(e,t,r)=>{r.d(t,{h:()=>xe});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(15195),r(4895),r(18665),r(59581),r(14913),r(87787),r(79389),r(98741),r(94009),r(36012),r(15852),r(10678),r(3101),r(7899),r(5086),r(87136),r(6048),r(29979),r(58379),r(14602);var n=r(91516),o=r(50453),i=r(24742),a=r(39678),c=r(95427),u=r(18505),l=r(2292),s=(r(64189),r(97755),r(41412),r(4632),r(69193),r(69127),r(33277),r(95361),r(80115),r(58649),r(68329),r(92769)),f=r(12221),d=r(12136),p=r(48017),y=r(46535),m=r(84696),v=r(83744),b=r(25097),h=r(87556);function g(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return w(l,"_invoke",function(r,n,o){var i,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,c=0,u=e,d.n=r,a}};function p(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,d.v=n,d.n=i[1]):p<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),c=s,u=y;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:r.call(n,d))!==a)break}catch(t){i=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(w(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,w(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,w(f,"constructor",l),w(l,"constructor",u),u.displayName="GeneratorFunction",w(l,o,"GeneratorFunction"),w(f),w(f,o,"Generator"),w(f,n,(function(){return this})),w(f,"toString",(function(){return"[object Generator]"})),(j=function(){return{w:i,m:d}})()}function w(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}w=function(e,t,r,n){function i(t,r){w(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},w(e,t,r,n)}function x(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){x(i,n,o,a,c,"next",e)}function c(e){x(i,n,o,a,c,"throw",e)}a(void 0)}))}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var I={MASTER_RELEASE:{useMoreLazyQuery:b.yRI,useCreate:T,typeName:"MasterRelease"},RELEASE:{useMoreLazyQuery:b.Hhr,useCreate:T,typeName:"Release"},ARTIST:{useMoreLazyQuery:b.FXs,useCreate:function(e){var t=e.content,r=e.parent,n=e.discogsId,o=S((0,b.kfI)(),2),i=o[0];function a(){return a=O(j().m((function e(){return j().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,i({variables:{input:{content:t,discogsArtistId:n,discogsReviewId:null==r?void 0:r.discogsId}},update:function(e,t){if(r){var o=e.identify({__typename:"Review",discogsId:r.discogsId});e.modify({id:o,fields:{replies:function(r){if(!t.data)return r;var n=e.writeFragment({data:t.data.reviewArtist.review,fragment:b.HGN,fragmentName:"ArtistReviews"});return n?r?[n].concat(g(r)):[n]:r}}})}else e.modify({id:e.identify({__typename:"Artist",discogsId:n}),fields:{reviews:function(r){if(!t.data||!t.data.reviewArtist.review||!r)return r;var n=e.writeFragment({data:t.data.reviewArtist.review,fragment:b.HGN,fragmentName:"ArtistReviews"});if(!n)return r;var o={node:n,cursor:btoa("ArtistReviewPagination:".concat(t.data.reviewArtist.review.discogsId))};return{totalCount:r.totalCount+1,edges:[o].concat(g(r.edges))}}}})}}).catch((function(){}));case 1:return e.a(2)}}),e)}))),a.apply(this,arguments)}return[function(){return a.apply(this,arguments)},o[1]]},typeName:"Artist"},LABEL:{useMoreLazyQuery:b.M_w,useCreate:function(e){var t=e.content,r=e.parent,n=e.discogsId,o=S((0,b.rDV)(),2),i=o[0];function a(){return a=O(j().m((function e(){return j().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,i({variables:{input:{content:t,discogsLabelId:n,discogsReviewId:null==r?void 0:r.discogsId}},update:function(e,t){if(r){var o=e.identify({__typename:"Review",discogsId:r.discogsId});e.modify({id:o,fields:{replies:function(r){if(!t.data)return r;var n=e.writeFragment({data:t.data.reviewLabel.review,fragment:b.m_9,fragmentName:"LabelReviews"});return n?r?[n].concat(g(r)):[n]:r}}})}else e.modify({id:e.identify({__typename:"Label",discogsId:n}),fields:{reviews:function(r){if(!t.data||!t.data.reviewLabel.review||!r)return r;var n=e.writeFragment({data:t.data.reviewLabel.review,fragment:b.m_9,fragmentName:"LabelReviews"});if(!n)return r;var o={node:n,cursor:btoa("LabelReviewPagination:".concat(t.data.reviewLabel.review.discogsId))};return{totalCount:r.totalCount+1,edges:[o].concat(g(r.edges))}}}})}}).catch((function(){}));case 1:return e.a(2)}}),e)}))),a.apply(this,arguments)}return[function(){return a.apply(this,arguments)},o[1]]},typeName:"Label"}};function T(e){var t=e.content,r=e.parent,n=e.discogsId,o=e.itemType,i=e.keyReleaseId,a=o===b.SP9.MasterRelease?i:n,c=I[o].typeName,u=S((0,b.AS3)(),2),l=u[0];function s(){return s=O(j().m((function e(){return j().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,l({variables:{input:{content:t,discogsReleaseId:a,discogsReviewId:null==r?void 0:r.discogsId}},update:function(e,t){if(r){var o=e.identify({__typename:"Review",discogsId:r.discogsId});e.modify({id:o,fields:{replies:function(r){if(!t.data)return r;var n=e.writeFragment({data:t.data.reviewRelease.review,fragment:b.pBZ,fragmentName:"ReleaseReviews"});return n?r?[n].concat(g(r)):[n]:r}}})}else e.modify({id:e.identify({__typename:c,discogsId:n}),fields:{reviews:function(r){if(!t.data||!t.data.reviewRelease.review||!r)return r;var n=e.writeFragment({data:t.data.reviewRelease.review,fragment:b.pBZ,fragmentName:"ReleaseReviews"});if(!n)return r;var o={node:n,cursor:btoa("ReleaseReviewPagination:".concat(t.data.reviewRelease.review.discogsId))};return{totalCount:r.totalCount+1,edges:[o].concat(g(r.edges))}}}})}}).catch((function(){}));case 1:return e.a(2)}}),e)}))),s.apply(this,arguments)}return[function(){return s.apply(this,arguments)},u[1]]}var k=r(81199),A=r(11765);const R={preview:"preview_vPr4I",content:"content_UDojU"};var E=r(74848);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function C(e){var t,r,o=e.value,i=D((0,k.A)(o,300,{leading:!0}),1)[0],a=(0,b.U3y)({ssr:!1,skip:""===o,variables:{markup:i}}),c=a.data,u=a.previousData,l=null!==(t=null===(r=null!=c?c:u)||void 0===r?void 0:r.markup.html)&&void 0!==t?t:"";return""===o||""===l?null:(0,E.jsxs)("div",{className:R.preview,children:[(0,E.jsx)("strong",{children:(0,E.jsx)(n.x6,{id:"Preview"})}),(0,E.jsx)("div",{className:R.content,children:(0,E.jsx)(A.V,{html:l})})]})}const F={editor:"editor_WHoY1",input:"input_imVbS",toolbar:"toolbar_SMo1u",action:"action_Zx9nX",submit:"submit_HoqMU",error:"error_rY1CW",count:"count_QCdU6"};function L(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return M(l,"_invoke",function(r,n,o){var i,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,c=0,u=e,d.n=r,a}};function p(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,d.v=n,d.n=i[1]):p<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),c=s,u=y;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:r.call(n,d))!==a)break}catch(t){i=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(M(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,M(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,M(f,"constructor",l),M(l,"constructor",u),u.displayName="GeneratorFunction",M(l,o,"GeneratorFunction"),M(f),M(f,o,"Generator"),M(f,n,(function(){return this})),M(f,"toString",(function(){return"[object Generator]"})),(L=function(){return{w:i,m:d}})()}function M(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}M=function(e,t,r,n){function i(t,r){M(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},M(e,t,r,n)}function G(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var $=10;function W(e){var t,r=(0,f.oF)().i18n,o=e.parent,i=e.onCancel,c=e.isEdit,l=e.initialValue,v=void 0===l?"":l,h=e.reviewId,g=e.discogsId,w=e.keyReleaseId,x=e.itemType,P=U((0,s.useState)(v),2),_=P[0],T=P[1],k=U((0,I[x].useCreate)({discogsId:g,keyReleaseId:w,content:_,parent:o,itemType:x}),2),A=k[0],R=k[1],D=function(e){var t=e.reviewId,r=e.content,n=S((0,b.Xag)(),2),o=n[0];function i(){return(i=O(j().m((function e(){return j().w((function(e){for(;;)switch(e.n){case 0:if(t){e.n=1;break}throw new Error("Missing review id");case 1:return e.n=2,o({variables:{input:{content:r,discogsReviewId:t}}}).catch((function(){}));case 2:return e.a(2)}}),e)})))).apply(this,arguments)}return[function(){return i.apply(this,arguments)},n[1]]}({reviewId:h,content:_}),N=U(D,2),M=N[0],B=N[1],W=(0,u.Mj)(),Q=R.loading||B.loading,H=null!==(t=R.error)&&void 0!==t?t:B.error;var V=_.split(/\s+/).map((function(e){return e.trim()})).filter((function(e){return""!==e})).length,z=$-V,q=Q||""===_||z>0;function Z(){var e;return e=L().m((function e(t){return L().w((function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),!q){e.n=1;break}return e.a(2);case 1:if(W("Add Review"),!c){e.n=3;break}return e.n=2,M();case 2:e.n=4;break;case 3:return e.n=4,A();case 4:T(""),null==i||i();case 5:return e.a(2)}}),e)})),Z=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){G(i,n,o,a,c,"next",e)}function c(e){G(i,n,o,a,c,"throw",e)}a(void 0)}))},Z.apply(this,arguments)}return(0,E.jsxs)("form",{className:F.editor,onSubmit:function(e){return Z.apply(this,arguments)},children:[(0,E.jsx)(y.f,{name:"review",className:F.input,placeholder:o?r._("Enter your reply"):r._("Enter your comment"),onChange:function(e){T(e.target.value)},value:_,disabled:Q}),(0,E.jsx)(C,{value:_}),""!==_&&z>0&&(0,E.jsxs)("div",{className:F.count,children:[(0,E.jsx)(m.s0I,{}),(0,E.jsx)(n.x6,{id:"At least 10 words must be entered. Please enter at least {missingWords} more.",values:{missingWords:z}})]}),(0,E.jsxs)("div",{className:F.toolbar,children:[(0,E.jsxs)("div",{className:F.action,children:[(0,E.jsx)(d.$,{variant:"primary",disabled:q,className:F.submit,type:"submit",children:c?(0,E.jsx)(n.x6,{id:"Save Changes"}):(0,E.jsx)(n.x6,{id:"Submit"})}),o&&!c&&(0,E.jsx)(d.$,{disabled:Q,className:F.submit,onClick:function(){T((function(e){return o?"[quote=".concat(o.reviewer.username,"] ").concat(o.content.markup," [/quote]\n").concat(e):e}))},children:(0,E.jsx)(n.x6,{id:"Quote Previous"})}),i&&(0,E.jsx)(d.$,{variant:"ghost",onClick:i,color:"red",children:(0,E.jsx)(n.x6,{id:"Cancel"})}),Q&&(0,E.jsx)(a.y,{}),H&&(0,E.jsx)("span",{className:F.error,children:(0,E.jsx)(n.x6,{id:"Something went wrong adding your review"})})]}),(0,E.jsx)(p.N,{href:"/help/doc/reviews-and-discussion",children:(0,E.jsx)(n.x6,{id:"View Help"})})]})]})}r(89560);var Q=r(88679),H=r(87962),V=r(68891),z=r(53700),q=r(11342);const Z={review:"review_luKwE",bezel:"bezel_FEQPB",pic:"pic_Z6wyD bezel_FEQPB",content:"content_08laB",header:"header_mvBUn",username:"username_N7O6q",created:"created_EKCAa",button:"button_YXKHZ",edited:"edited_dQpdg",rating:"rating_pea6E",replies:"replies_r6FWL",dropdown:"dropdown_ioN4P",deleteReview:"deleteReview_vXps8"};r(80475);var Y=r(19857);function K(e){var t=e.labels,r=e.noCatNos,n=void 0!==r&&r;return t&&0!==t.length?(0,E.jsx)(E.Fragment,{children:(0,Y.f)(", ",t.slice(0,1).map((function(e){var t=e.catalogNumber,r="".concat(null!=t?t:"_");return(0,E.jsx)(s.Fragment,{children:!n&&t&&"".concat(t)},r)})))}):null}function X(e){var t=e.formats;return t&&0!==t.length?(0,E.jsxs)(E.Fragment,{children:["(",(0,Y.f)(", ",t.map((function(e){var t=e.name,r=e.quantity,n=e.description,o=e.text;return(0,E.jsxs)(s.Fragment,{children:[r&&"1"!==r&&(0,E.jsxs)(E.Fragment,{children:[r,"×"]}),"Vinyl"!==t&&t,"Vinyl"!==t&&n&&", ",null==n?void 0:n.join(", "),o&&(0,E.jsxs)(E.Fragment,{children:[", ",(0,E.jsx)("span",{children:o})]})]},t)}))),")"]}):null}function J(e){var t=e.reviewItem;return(0,E.jsx)("div",{style:{fontStyle:"italic",fontSize:"0.85em"},children:(0,E.jsxs)("p",{children:[(0,E.jsx)(n.x6,{id:"referencing"})," ",(0,E.jsxs)(p.N,{href:t.siteUrl?"https://www.discogs.com".concat(t.siteUrl):"",children:[t.title," ",(0,E.jsx)(X,{formats:t.formats})," ",(0,E.jsx)(K,{labels:t.labels})]})]})})}function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return re(l,"_invoke",function(r,n,o){var i,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,c=0,u=e,d.n=r,a}};function p(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,d.v=n,d.n=i[1]):p<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),c=s,u=y;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:r.call(n,d))!==a)break}catch(t){i=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(re(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,re(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,re(f,"constructor",l),re(l,"constructor",u),u.displayName="GeneratorFunction",re(l,o,"GeneratorFunction"),re(f),re(f,o,"Generator"),re(f,n,(function(){return this})),re(f,"toString",(function(){return"[object Generator]"})),(te=function(){return{w:i,m:d}})()}function re(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}re=function(e,t,r,n){function i(t,r){re(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},re(e,t,r,n)}function ne(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function oe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ne(i,n,o,a,c,"next",e)}function c(e){ne(i,n,o,a,c,"throw",e)}a(void 0)}))}}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ee(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ee(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var se=(0,H.F)((function(e){var t=e.review,r=e.dispatch,o=e.dropdownOpen,a=e.showingReplies,c=e.isReplying,d=e.isEditing,y=e.keyReleaseId,g=e.discogsId,w=e.parent,x=e.itemType,P=t.discogsId,_=t.reviewer,T=_.discogsId,k=_.username,R=_.avatarUrl,D=t.created,N=t.modified,C=t.content,F=t.foundHelpful,L=t.reviewItem,M=t.rating,G="replies"in t?t.replies:[],U=(0,f.oF)().i18n,B=(0,l.vz)(),$=B.loggedIn,Q=B.user,H=(0,q.SC)(),Y=(0,u.Mj)(),K=ie(function(e){var t=e.discogsReviewId,r=e.parent,n=e.discogsId,o=e.itemType,i=I[o].typeName,a=S((0,b.Lu$)(),2),c=a[0],u=a[1],l=(0,h.ux)(v.Ru._("Could not remove review"));function s(){return s=O(j().m((function e(){return j().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,c({variables:{input:{discogsReviewId:t}},update:function(e,o){r?e.modify({id:e.identify({__typename:"Review",discogsId:r.discogsId}),fields:{replies:function(r){var n=e.identify({__typename:"Review",discogsId:t});return r.filter((function(e){return e.__ref!==n}))}}}):e.modify({id:e.identify({__typename:i,discogsId:n}),fields:{reviews:function(r){if(!r)return r;var n=e.identify({__typename:"Review",discogsId:t});return{totalCount:r.totalCount-1,edges:r.edges.filter((function(e){return e.node.__ref!==n}))}}}})}}).catch(l);case 1:return e.a(2)}}),e)}))),s.apply(this,arguments)}return[function(){return s.apply(this,arguments)},u]}({discogsId:g,discogsReviewId:P,parent:w,itemType:x}),1)[0],X=new Date(D),ee=new Date(N),re="/user/".concat(k);function ne(){return(ne=oe(te().m((function e(){return te().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,H.ask();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return e.n=3,K();case 3:return e.a(2)}}),e)})))).apply(this,arguments)}if(d)return(0,E.jsx)("div",{className:Z.review,id:"#review-".concat(P),children:(0,E.jsx)(W,{keyReleaseId:y,discogsId:g,reviewId:P,isEdit:!0,initialValue:C.markup,onCancel:function(){return r({type:"cancel-edit"})},itemType:x})});return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(q.m,ue(ue({},H.props),{},{confirmText:(0,E.jsx)(n.x6,{id:"Delete Review"}),children:(0,E.jsx)(n.x6,{id:"Do you really want to remove this review?"})})),(0,E.jsxs)("li",{children:[(0,E.jsxs)("div",{className:Z.review,id:"#review-".concat(P),children:[(0,E.jsx)(p.N,{href:re,className:Z.pic,children:R?(0,E.jsx)("img",{src:R,alt:U._("{username}'s avatar",{username:k}),width:50,height:50}):(0,E.jsx)(m.KJW,{})}),(0,E.jsxs)("div",{className:Z.content,children:[(0,E.jsxs)("div",{className:Z.header,children:[(0,E.jsx)(p.N,{href:re,className:Z.username,children:k})," ",(0,E.jsx)(V.s,{value:X,className:Z.created}),(0,E.jsx)(de,{reviewId:P,open:o,onOpen:function(){return r({type:"open-dropdown"})},onClose:function(){return r({type:"close-dropdown"})},isAuthor:!!Q&&T===Q.discogsId,onRemove:function(){return ne.apply(this,arguments)},onEdit:function(){return r({type:"edit"})},onReport:function(){return Y("Report Review")}})]}),ee.getTime()!==X.getTime()&&(0,E.jsx)("div",{className:Z.edited,children:fe(ee)}),!w&&M&&(0,E.jsx)(z.uf,{username:k,value:M.value,className:Z.rating}),x===b.SP9.MasterRelease&&(0,E.jsx)(J,{reviewItem:L}),(0,E.jsx)(A.V,{html:C.html}),(0,E.jsxs)("div",{children:[!w&&(0,E.jsxs)(i.$,{type:"button",color:"link",className:Z.button,onClick:function(){$?r(c?{type:"cancel-reply"}:{type:"reply"}):(0,l.iD)()},children:[(0,E.jsx)(m.Qky,{"aria-hidden":"true"}),(0,E.jsx)(n.x6,{id:"Reply"})]}),G.length>0&&(0,E.jsx)(i.$,{type:"button",color:"link",className:Z.button,onClick:function(){Y("See Review Reply"),r(a?{type:"hide-replies"}:{type:"show-replies"})},children:a?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.Leg,{"aria-hidden":"true"}),(0,E.jsx)(n.x6,{id:"Hide replies"})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.kU3,{"aria-hidden":"true"}),(0,E.jsx)(n.x6,{id:"{0, plural, one {See # reply} other {See # replies}}",values:{0:G.length}})]})}),(0,E.jsx)(pe,{reviewId:P,foundHelpful:F,authorId:T})]})]})]}),(0,E.jsxs)("div",{className:Z.replies,children:[c&&(0,E.jsx)(W,{parent:e.review,keyReleaseId:y,discogsId:g,onCancel:function(){r({type:"cancel-reply"})},itemType:x}),(0,E.jsx)("ul",{children:a&&G.map((function(r){return(0,s.createElement)(se,ue(ue({},e),{},{review:r,key:r.discogsId,parent:t,keyReleaseId:y,itemType:x}))}))})]})]})]})}),(function(e,t,r){switch(r.type){case"open-dropdown":return ue(ue({},t),{},{dropdownOpen:!0});case"close-dropdown":return ue(ue({},t),{},{dropdownOpen:!1});case"show-replies":return ue(ue({},t),{},{showingReplies:!0});case"hide-replies":return ue(ue({},t),{},{showingReplies:!1});case"reply":return ue(ue({},t),{},{isReplying:!0});case"cancel-reply":return ue(ue({},t),{},{isReplying:!1});case"edit":return ue(ue({},t),{},{isEditing:!0,dropdownOpen:!1});case"cancel-edit":return ue(ue({},t),{},{isEditing:!1,dropdownOpen:!1});default:return t}}),{dropdownOpen:!1,showingReplies:!1,isReplying:!1,isEditing:!1});function fe(e){var t=Math.floor((Date.now()-e.getTime())/1e3),r=Math.floor(t/31536e3),o=Math.floor(t/2592e3),i=Math.floor(t/86400),a=Math.floor(t/3600),c=Math.floor(t/60);return r>=1?(0,E.jsx)(n.x6,{id:"{years, plural, one {Edited one year ago} other {Edited # years ago}}",values:{years:r}}):o>=1?(0,E.jsx)(n.x6,{id:"{months, plural, one {Edited one month ago} other {Edited # months ago}}",values:{months:o}}):i>=1?(0,E.jsx)(n.x6,{id:"{days, plural, one {Edited one day ago} other {Edited # days ago}}",values:{days:i}}):a>=1?(0,E.jsx)(n.x6,{id:"{hours, plural, one {Edited one hour ago} other {Edited # hours ago}}",values:{hours:a}}):c>=1?(0,E.jsx)(n.x6,{id:"{minutes, plural, one {Edited one minute ago} other {Edited # minutes ago}}",values:{minutes:c}}):(0,E.jsx)(n.x6,{id:"Edited just now"})}function de(e){var t=e.reviewId,r=e.open,o=e.onOpen,a=e.onClose,c=e.isAuthor,u=e.onRemove,l=e.onEdit,d=e.onReport,y=(0,f.oF)().i18n,v="actions-".concat(t),b="menu-".concat(t),h=(0,s.useRef)(null);return(0,Q.L)(h,a),(0,E.jsxs)("div",{className:Z.dropdown,ref:h,children:[(0,E.jsx)("button",{type:"button",onClick:function(){r?a():o()},title:y._("Actions"),id:v,"aria-haspopup":"true","aria-controls":b,"aria-expanded":r,children:(0,E.jsx)(m.aYp,{"aria-hidden":"true"})}),(0,E.jsxs)("ul",{hidden:!r,id:b,role:"menu","aria-labelledby":v,children:[c&&(0,E.jsx)("li",{role:"menuitem",children:(0,E.jsxs)(i.$,{onClick:l,color:"link",children:[(0,E.jsx)(m.ffu,{"aria-hidden":"true"}),(0,E.jsx)(n.x6,{id:"Edit"})]})}),(0,E.jsx)("li",{role:"menuitem",children:(0,E.jsxs)(p.N,{href:"/reviews/report/".concat(t),onClick:d,children:[(0,E.jsx)(m.MAP,{"aria-hidden":"true"}),(0,E.jsx)(n.x6,{id:"Report"})]})}),c&&(0,E.jsx)("li",{role:"menuitem",children:(0,E.jsxs)(i.$,{className:Z.deleteReview,color:"link",onClick:u,children:[(0,E.jsx)(m.lMJ,{"aria-hidden":"true"}),(0,E.jsx)(n.x6,{id:"Delete"})]})})]})]})}function pe(e){var t=e.reviewId,r=e.foundHelpful,o=e.authorId,c=(0,l.vz)(),u=c.loggedIn,s=c.user,f=function(e){var t=e.discogsReviewId,r=S((0,b.d2E)(),2),n=r[0],o=r[1],i=(0,h.ux)(v.Ru._("Could not mark review as helpful"));function a(){return(a=O(j().m((function e(){return j().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,n({variables:{input:{discogsReviewId:t}},update:function(e,r){e.modify({id:e.identify({__typename:"Review",discogsId:t}),fields:{foundHelpful:function(e){var t,n=null===(t=r.data)||void 0===t?void 0:t.toggleFoundReviewHelpful.helpful;if("boolean"!=typeof n)return e;var o=null!=e?e:0,i=n?1:-1;return Math.max(0,o+i)}}})}}).catch(i);case 1:return e.a(2)}}),e)})))).apply(this,arguments)}return[function(){return a.apply(this,arguments)},o]}({discogsReviewId:t}),d=ie(f,2),p=d[0];function y(){return(y=oe(te().m((function e(){return te().w((function(e){for(;;)switch(e.n){case 0:if(u){e.n=1;break}return(0,l.iD)(),e.a(2);case 1:return e.n=2,p();case 2:return e.a(2)}}),e)})))).apply(this,arguments)}var g=d[1].loading?(0,E.jsx)(a.y,{"aria-hidden":"true"}):(0,E.jsx)(m.vwO,{"aria-hidden":"true"});return(0,E.jsxs)(i.$,{type:"button",color:"link",className:Z.button,onClick:function(){return y.apply(this,arguments)},disabled:o===(null==s?void 0:s.discogsId),children:[g,r>0&&"".concat(r," "),(0,E.jsx)(n.x6,{id:"Helpful"})]})}const ye={spinner:"spinner_bQmMc",add:"add_Renjp",head:"head_JOQaE"};function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function je(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=me(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==me(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we="release-reviews";function xe(e){var t=e.reviews;return t?(0,E.jsx)(Oe,ge(ge({},e),{},{reviews:t})):(0,E.jsx)(o.w,{id:we,title:(0,E.jsx)(n.x6,{id:"Reviews"}),children:(0,E.jsx)(c.R,{height:200})})}function Oe(e){var t=e.discogsId,r=e.keyReleaseId,c=e.reviews,s=c.totalCount,f=c.edges,d=e.itemType,p=ve((0,I[d].useMoreLazyQuery)(),2),y=p[0],m=p[1].loading,v=(0,l.vz)().loggedIn,b=(0,u.Mj)();var h=(0,E.jsx)("div",{className:ye.head,children:(0,E.jsx)("h2",{children:(0,E.jsx)(n.x6,{id:"Reviews"})})}),g=v?(0,E.jsx)(W,{keyReleaseId:r,discogsId:t,itemType:d}):(0,E.jsx)(i.$,{onClick:function(){b("Add Review"),(0,l.iD)()},className:ye.add,children:(0,E.jsx)(n.x6,{id:"Add Review"})});return(0,E.jsxs)(o.w,{header:h,id:we,children:[g,(0,E.jsx)("ul",{children:f.map((function(e){return e.node&&(0,E.jsx)(se,{review:e.node,keyReleaseId:r,discogsId:t,itemType:d},e.node.discogsId)}))}),f.length<s&&(0,E.jsx)(i.$,{color:"link",onClick:function(){var e=f[f.length-1].cursor;y({variables:{discogsId:t,after:e}})},disabled:m,children:(0,E.jsx)(n.x6,{id:"Load More Reviews"})}),m&&(0,E.jsx)(a.y,{className:ye.spinner})]})}},74892:(e,t,r)=>{r.d(t,{wD:()=>j});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(18665),r(87787),r(94009),r(36012),r(15852),r(10678),r(3101),r(7899),r(5086),r(29979),r(58379),r(14602),r(69127),r(33277),r(95361),r(80115);var n=r(91516),o=r(92769),i=r(12136),a=r(84696),c=r(82268),u=r(87962);const l="wrapper_Ixres",s="icon_ivuhP",f="content_SLvZD",d="twitter_U9yCT link_l4993",p="facebook_QljJS link_l4993";var y=r(4306),m=r(74848);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=(0,u.F)((function(e){var t=e.dispatch,r=e.open,u=e.url,v=e.title,b=(0,o.useRef)(null),h=(0,o.useRef)(null),g="http://www.facebook.com/sharer.php?u=".concat(encodeURIComponent(u)),j="http://twitter.com/share?url=".concat(encodeURIComponent(u),"&text=").concat(encodeURIComponent(v),"&via=discogs");return(0,m.jsx)("div",{className:l,children:(0,m.jsxs)(c.m,{children:[(0,m.jsxs)(i.$,{onClick:function(){return t({type:"toggle"})},"aria-haspopup":"menu","aria-expanded":r,variant:"ghost",dense:!0,children:[(0,m.jsx)(a.JLS,{className:s,"aria-hidden":"true"}),(0,m.jsx)(n.x6,{id:"Share"})]}),(0,m.jsx)(c.V,{title:(0,m.jsx)(n.x6,{id:"Share"}),position:"bottomEnd",open:r,onClose:function(){return t({type:"close"})},id:"release-share-tooltip",role:"menu",ariaLabel:"Share",tabIndex:-1,ariaHidden:!0,keyHandler:function(e){var r,n;e.key===y.up&&(null===(r=b.current)||void 0===r||r.focus()),e.key===y.TR&&(null===(n=h.current)||void 0===n||n.focus()),e.key===y.UQ&&t({type:"close"})},children:(0,m.jsxs)("div",{className:f,children:[(0,m.jsxs)("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:p,role:"menuitem",ref:b,children:[(0,m.jsx)(a.f1L,{}),(0,m.jsx)(n.x6,{id:"Facebook"})]}),(0,m.jsx)("br",{}),(0,m.jsxs)("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:d,role:"menuitem",ref:h,children:[(0,m.jsx)(a.KKS,{}),(0,m.jsx)(n.x6,{id:"Twitter"})]})]})})]})})}),(function(e,t,r){switch(r.type){case"toggle":return h(h({},t),{},{open:!t.open});case"close":return h(h({},t),{},{open:!1});default:return t}}),{open:!1})},68891:(e,t,r)=>{r.d(t,{s:()=>j,$:()=>g});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(15195),r(19693),r(4895),r(18665),r(80475),r(59581),r(14913),r(42169),r(79389),r(87787),r(98741),r(94009),r(36012),r(15852),r(10678),r(3101),r(7899),r(5086),r(87136),r(6048),r(29979),r(78636),r(48825),r(40173),r(58379),r(14602),r(54989);var n=r(92769),o=r(12221),i=function(){0;if(!window.requestIdleCallback||!window.cancelIdleCallback)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,n.useEffect)(e,t)};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,n.useEffect)((function(){var t=window.requestIdleCallback(e);return function(){return window.cancelIdleCallback(t)}}),t)}}();var a=r(74848);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var u=["value"],l=["value"];function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v={year:"numeric",month:"short",day:"numeric"},b=[{year:"numeric"},{year:"numeric",month:"short"},v];function h(e,t,r){return t.toLocaleDateString(e,y({timeZone:"UTC"},r))}function g(e){var t,r,n=e.value,o=d(e,u),i=w(),c=function(e){return e.split("-").map((function(e,t){var r=0===t?4:2;return e.padStart(r,"0")})).join("-").replace(/(-00)?-00/,"")}(n),l=new Date(c),s=null!==(t=null===(r=c.match(/-/g))||void 0===r?void 0:r.length)&&void 0!==t?t:0,f=b[s];return f?(0,a.jsx)("time",y(y({},o),{},{dateTime:c,children:h(i,l,f)})):null}function j(e){var t=e.value,r=d(e,l),n=w();return(0,a.jsx)("time",y(y({},r),{},{dateTime:t.toISOString().replace(/T.*$/,""),children:h(n,t,v)}))}function w(){var e=(0,o.oF)().language,t=s((0,n.useState)(e),2),r=t[0],a=t[1];return i((function(){navigator.language.startsWith(e)&&a(navigator.language)})),r}},6607:(e,t,r)=>{r.d(t,{u:()=>l});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(18665),r(87787),r(94009),r(36012),r(15852),r(10678),r(3101),r(7899),r(5086),r(29979),r(58379),r(14602);var n=r(91516),o=r(20008),i=r(74848);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return(0,i.jsx)(o.t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({fallback:s},e))}function s(){return(0,i.jsx)(n.x6,{id:"Something went wrong in this section of the page."})}},36761:(e,t,r)=>{r.d(t,{G:()=>a,q:()=>c});r(98741);const n={table:"table_c5ftk"};var o=r(14073),i=r(74848);function a(e){var t=e.children;return(0,i.jsx)("table",{className:n.table,children:(0,i.jsx)("tbody",{children:t})})}function c(e){var t=e.name,r=e.children;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:(0,i.jsxs)(o.A,{component:"h2",variant:"labelSmall",children:[t,":"]})}),(0,i.jsx)("td",{children:r})]})}},96612:(e,t,r)=>{r.d(t,{Y:()=>a});const n={body:"body_utiDG",thumbnail:"thumbnail_cgf1w",info:"info_LD8Ql",title:"title_Brnd1"};var o=r(14073),i=r(74848);function a(e){var t=e.title,r=e.images,a=e.children;return(0,i.jsxs)("div",{className:n.body,children:[(0,i.jsx)(o.A,{component:"h1",variant:"headLineXL",sx:{marginLeft:"1.5rem",marginBottom:".25rem"},className:n.title,children:t}),(0,i.jsx)("div",{className:n.thumbnail,children:r}),(0,i.jsx)("div",{className:n.info,children:a})]})}},68764:(e,t,r)=>{r.d(t,{Wx:()=>i,gw:()=>a});r(80115);var n=r(8347),o=r(74848),i=function(e){return e.Release="r",e.Master="m",e.Artist="a",e.Label="l",e}({});function a(e){var t=e.type,r=e.discogsId;return(0,o.jsx)(n.od,{name:"x-discogs-identifiers",value:c(t,r)})}function c(e,t){return"".concat(e).concat(t)}},91431:(e,t,r)=>{r.d(t,{p:()=>f});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(18665),r(87787),r(94009),r(36012),r(15852),r(10678),r(3101),r(7899),r(5086),r(29979),r(58379),r(14602);var n=r(32485),o=r.n(n);const i={input:"input_Ihp5A"};var a=r(74848);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return(0,a.jsx)("input",l(l({},e),{},{className:o()(i.input,e.className)}))}},95427:(e,t,r)=>{r.d(t,{R:()=>u});var n=r(32485),o=r.n(n),i=r(39678);const a={loading:"loading_MjSQ1"};var c=r(74848);function u(e){var t=e.height,r=void 0===t?0:t,n=e.className;return(0,c.jsx)("div",{style:{minHeight:r},className:o()(a.loading,n),children:(0,c.jsx)(i.y,{})})}},53700:(e,t,r)=>{r.d(t,{Z0:()=>x,uf:()=>v});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(18665),r(87787),r(94009),r(36012),r(15852),r(10678),r(3101),r(7899),r(5086),r(29979),r(58379),r(14602);var n=r(87962),o=(r(19693),r(80115),r(32982),r(79389),r(6048),r(32485)),i=r.n(o),a=r(12221),c=r(84696);const u={star:"star_p9wfL",icon:"icon_AM1B4",fill:"fill_Wl4ZB",remove:"remove_CEOi7"};var l=r(74848);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var f=["value","username"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=e.min,r=e.rating,n=e.dispatch,o=e.onChange,i=(0,a.oF)().i18n,c=r===t;return(0,l.jsx)("button",{onMouseEnter:function(){return n({type:"hover",rating:t})},onMouseLeave:function(){return n({type:"hover",rating:null})},onClick:function(){return o(t)},className:u.star,type:"button","aria-pressed":c||void 0,role:c?"button":void 0,title:i._("{min, plural, one {Rate this release 1 star} other {Rate this release # stars}}",{min:t}),children:(0,l.jsx)(b,{min:t,rating:null!=r?r:0})})}function v(e){var t=e.value,r=e.username,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,f),o=(0,a.oF)().i18n,i="".concat(r||""," ").concat(t?o._("{0, plural, one {rated this release 1 star} other {rated this release # stars}}",{0:t.toString()}):o._("no rating"));return(0,l.jsxs)("span",p(p({role:"note"},n),{},{"aria-label":i,children:[(0,l.jsx)(b,{min:1,rating:null!=t?t:0}),(0,l.jsx)(b,{min:2,rating:null!=t?t:0}),(0,l.jsx)(b,{min:3,rating:null!=t?t:0}),(0,l.jsx)(b,{min:4,rating:null!=t?t:0}),(0,l.jsx)(b,{min:5,rating:null!=t?t:0})]}))}function b(e){var t=e.min,r=e.rating>=t,n=r?c.FEq:c.xWs;return(0,l.jsx)(n,{"aria-hidden":"true",className:i()(u.icon,r&&u.fill)})}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(0,n.F)((function(e){var t=e.value,r=e.hovering,n=e.dispatch,o=e.onChange,i=(0,a.oF)().i18n,s=0===t?i._("not rated"):"";return(0,l.jsxs)("div",{"aria-label":s,children:[(0,l.jsx)(m,{min:1,rating:null!=r?r:t,dispatch:n,onChange:o}),(0,l.jsx)(m,{min:2,rating:null!=r?r:t,dispatch:n,onChange:o}),(0,l.jsx)(m,{min:3,rating:null!=r?r:t,dispatch:n,onChange:o}),(0,l.jsx)(m,{min:4,rating:null!=r?r:t,dispatch:n,onChange:o}),(0,l.jsx)(m,{min:5,rating:null!=r?r:t,dispatch:n,onChange:o}),(0,l.jsx)("button",{type:"button",onClick:function(){return o(null)},className:u.remove,disabled:!t,"aria-label":i._("Remove Rating"),children:(0,l.jsx)(c.bm,{"aria-hidden":"true"})})]})}),(function(e,t,r){return"hover"===r.type?j(j({},t),{},{hovering:r.rating}):t}),{hovering:null})},18331:(e,t,r)=>{r.d(t,{m:()=>d});r(80115);var n=r(91516),o=r(92769),i=r(32485),a=r.n(i),c=r(59399);const u={vinyl:"vinyl_CE_vZ"};var l=r(74848);function s(e){var t=e.className;return(0,l.jsxs)("svg",{role:"img","aria-hidden":"true",viewBox:"0 0 100 100",className:a()(u.vinyl,t),children:[(0,l.jsx)("circle",{cx:"50",cy:"50",r:"33",fill:"none",stroke:"black",strokeWidth:"33"}),(0,l.jsx)("circle",{cx:"50",cy:"50",r:"4"})]})}const f={id:"id_ntb5R",tooltip:"tooltip_h35lC"};function d(e){var t=e.discogsId,r=e.type,i=e.className,u=(0,o.useRef)(null),d="shortcode-tooltip";var p="[".concat(r).concat(t,"]");return(0,l.jsxs)("button",{type:"button",className:a()(f.id,i),onClick:function(){if(u.current){if(document.body.createTextRange){var e=document.body.createTextRange();return e.moveToElementText(u.current),void e.select()}var t=window.getSelection(),r=document.createRange();r.selectNodeContents(u.current),null==t||t.removeAllRanges(),null==t||t.addRange(r)}},"aria-labelledby":d,children:[(0,l.jsx)(s,{})," ",(0,l.jsx)(c.CopyToClipboard,{text:p,children:(0,l.jsx)("span",{ref:u,children:p})}),(0,l.jsx)("div",{className:f.tooltip,id:d,children:(0,l.jsx)(n.x6,{id:"Copy {0} Code",values:{0:{a:"Artist",m:"Master Release",r:"Release",l:"Label"}[r]}})})]})}},67781:(e,t,r)=>{r.d(t,{Ok:()=>n,Zm:()=>o,cq:()=>i});r(79389),r(52231);function n(e){var t=e.split("-");return parseInt(t[0],10)}function o(e){var t=n(e);return 10*Math.floor(t/10)}function i(e){if(!e)return"";var t=new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return t||""}},50283:(e,t,r)=>{r.d(t,{c:()=>c});r(80115),r(59581),r(5086),r(87136),r(40173);var n=r(32435),o=r(24180),i=r(12221),a=r(74848);function c(e){var t=e.languages,r=e.host,c=(0,i.oF)().localiseURL,u=(0,o.zy)(),l=t.map((function(e){return(0,a.jsx)(n.N_,{rel:"alternate",hrefLang:e.replace("_","-"),href:"".concat(r).concat(c(u.pathname,e))},e)}));return(0,a.jsx)(a.Fragment,{children:l})}},87604:(e,t,r)=>{r.d(t,{P8:()=>i});r(63534),r(40590),r(64216),r(15195),r(4895),r(18665),r(59581),r(14913),r(79389),r(98741),r(5086),r(87136),r(6048),r(29979),r(14602);function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){if(!e)return[];var t,r=[],o=n(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;void 0!==i.node&&r.push(i.node)}}catch(e){o.e(e)}finally{o.f()}return r}},64308:(e,t,r)=>{r.d(t,{m:()=>se});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(15195),r(4895),r(18665),r(59581),r(14913),r(35231),r(87787),r(79389),r(64189),r(98741),r(94009),r(97755),r(36012),r(15852),r(10678),r(3101),r(41412),r(7899),r(4632),r(5086),r(52231),r(69193),r(87136),r(6048),r(45708),r(29979),r(58379),r(14602);var n=r(91516),o=r(92769),i=r(32485),a=r.n(i),c=r(11342),u=r(46535),l=r(91431);r(19693);const s={label:"label_QP4YB",optional:"optional_YeFT6"};var f=r(74848);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var p=["children","className","optional"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=e.children,r=e.className,o=e.optional,i=void 0!==o&&o,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,p);return(0,f.jsxs)("label",m(m({},c),{},{className:a()(s.label,r),children:[t,i&&(0,f.jsx)("span",{className:s.optional,children:(0,f.jsx)(n.x6,{id:"Optional"})})]}))}var h=r(12221),g=r(2292),j=r(24742),w=r(39678),x=r(54589),O=r(37502),S=r(4306),P=r(25097),_=(r(80115),r(18636),r(83744)),I=r(87556),T=r(18505);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function A(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return R(l,"_invoke",function(r,n,o){var i,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,c=0,u=e,d.n=r,a}};function p(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,d.v=n,d.n=i[1]):p<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),c=s,u=y;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:r.call(n,d))!==a)break}catch(t){i=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(R(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,R(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,R(f,"constructor",l),R(l,"constructor",u),u.displayName="GeneratorFunction",R(l,o,"GeneratorFunction"),R(f),R(f,o,"Generator"),R(f,n,(function(){return this})),R(f,"toString",(function(){return"[object Generator]"})),(A=function(){return{w:i,m:d}})()}function R(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}R=function(e,t,r,n){function i(t,r){R(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},R(e,t,r,n)}function E(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return G(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function U(){var e=L((0,P.ZRQ)(),2),t=e[0],r=e[1],n=(0,I.ux)(_.Ru._("Could not add release to list")),o=(0,T.Mj)();function i(){var e;return e=A().m((function e(r){var i,a,c,u;return A().w((function(e){for(;;)switch(e.n){case 0:if(i=r.discogsId,a=r.comment,c=r.listId,u=r.itemType,null!==c){e.n=1;break}return e.a(2);case 1:return o("Add to List"),e.n=2,t({variables:{input:{itemDiscogsId:i,listDiscogsId:c,itemType:u,comment:a}},update:function(e,t){e.modify({id:e.identify({__typename:"Query"}),fields:{viewer:function(r){var n;if(!r||null===(n=t.data)||void 0===n||!n.addToList)return r;for(var o=e.writeFragment({data:t.data.addToList.curatedList,fragment:P.$5D}),a=["lists:{}",'lists:{"catalogItem":{"itemType":"'.concat(u,'","itemDiscogsId":').concat(i,"}}"),'lists:{"catalogItem":{"itemDiscogsId":'.concat(i,',"itemType":"').concat(u,'"}}')],c=N({},r),l=0,s=a;l<s.length;l++){var f=s[l],d=r[f];d&&(d.edges.find((function(e){var t;return(null===(t=e.node)||void 0===t?void 0:t.__ref)===(null==o?void 0:o.__ref)}))||(c[f]=N(N({},d),{},{totalCount:d.totalCount+1,edges:[].concat(E(d.edges),[{node:o}])})))}return c}}})}}).catch(n);case 2:return e.a(2)}}),e)})),i=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){F(i,n,o,a,c,"next",e)}function c(e){F(i,n,o,a,c,"throw",e)}a(void 0)}))},i.apply(this,arguments)}return N(N({},r),{},{perform:function(e){return i.apply(this,arguments)}})}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function $(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return W(l,"_invoke",function(r,n,o){var i,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,c=0,u=e,d.n=r,a}};function p(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,d.v=n,d.n=i[1]):p<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),c=s,u=y;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:r.call(n,d))!==a)break}catch(t){i=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(W(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,W(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,W(f,"constructor",l),W(l,"constructor",u),u.displayName="GeneratorFunction",W(l,o,"GeneratorFunction"),W(f),W(f,o,"Generator"),W(f,n,(function(){return this})),W(f,"toString",(function(){return"[object Generator]"})),($=function(){return{w:i,m:d}})()}function W(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}W=function(e,t,r,n){function i(t,r){W(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},W(e,t,r,n)}function Q(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return K(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function X(e){return e===P.SP9.MasterRelease?"MasterRelease":"Release"}function J(){var e=Z((0,P.yFg)(),2),t=e[0],r=e[1],n=(0,I.ux)(_.Ru._("Could not add release to list")),o=(0,T.Mj)();function i(){var e;return e=$().m((function e(r){var i,a,c,u,l;return $().w((function(e){for(;;)switch(e.n){case 0:return i=r.discogsId,a=r.title,c=r.description,u=r.comment,l=r.itemType,o("Add to List"),e.n=1,t({variables:{input:{itemDiscogsId:i,itemType:l,title:a,description:c,comment:u}},update:function(e,t){e.modify({id:e.identify({__typename:X(l),discogsId:i}),fields:{lists:function(r){var n;if(!r||null===(n=t.data)||void 0===n||null===(n=n.createList)||void 0===n||!n.curatedList)return r;var o=e.writeFragment({data:t.data.createList.curatedList,fragment:P.$5D});if(!o)return r;var i={node:o};return V(V({},r),{},{totalCount:r.totalCount+1,edges:[i].concat(Q(r.edges))})}}}),e.modify({id:e.identify({__typename:"Query"}),fields:{viewer:function(r){var n;if(!r||null===(n=t.data)||void 0===n||!n.createList)return r;for(var o=e.writeFragment({fragment:P.$5D,data:t.data.createList.curatedList}),a=["lists:{}",'lists:{"catalogItem":{"itemDiscogsId":'.concat(i,',"itemType":"').concat(l,'"}}'),'lists:{"catalogItem":{"itemType":"'.concat(l,'","itemDiscogsId":').concat(i,"}}")],c=V({},r),u=0,s=a;u<s.length;u++){var f=s[u],d=r[f];d&&(d.edges.find((function(e){var t;return(null===(t=e.node)||void 0===t?void 0:t.__ref)===(null==o?void 0:o.__ref)}))||(c[f]=V(V({},d),{},{totalCount:d.totalCount+1,edges:[].concat(Q(d.edges),[{node:o}])})))}return c}}})}}).catch(n);case 1:return e.a(2)}}),e)})),i=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){q(i,n,o,a,c,"next",e)}function c(e){q(i,n,o,a,c,"throw",e)}a(void 0)}))},i.apply(this,arguments)}return V(V({},r),{},{perform:function(e){return i.apply(this,arguments)}})}const ee={form:"form_q4iBJ",disabled:"disabled_ksGam",loading:"loading_S_zoA"};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return ne(l,"_invoke",function(r,n,o){var i,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,c=0,u=e,d.n=r,a}};function p(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,d.v=n,d.n=i[1]):p<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),c=s,u=y;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:r.call(n,d))!==a)break}catch(t){i=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(ne(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,ne(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,ne(f,"constructor",l),ne(l,"constructor",u),u.displayName="GeneratorFunction",ne(l,o,"GeneratorFunction"),ne(f),ne(f,o,"Generator"),ne(f,n,(function(){return this})),ne(f,"toString",(function(){return"[object Generator]"})),(re=function(){return{w:i,m:d}})()}function ne(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ne=function(e,t,r,n){function i(t,r){ne(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},ne(e,t,r,n)}function oe(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function se(){var e,t,r,i,s=(0,h.oF)().i18n,d=(0,o.useRef)(null),p=ue((0,o.useState)(null),2),y=p[0],m=p[1],v=ue((0,P.ciS)(),2),_=v[0],I=v[1],T=(0,g.vz)().loggedIn,k=ue((0,o.useState)({existing:!0,comment:"",title:"",description:"",list:null}),2),A=k[0],R=k[1];(0,x.s)({block:Boolean(y)}),(0,O._)(ce({},S.UQ,M));var E=U(),D=J(),N=Array.from(null!==(e=null===(t=I.data)||void 0===t||null===(t=t.viewer)||void 0===t?void 0:t.lists.edges)&&void 0!==e?e:[]),C=0===N.length,F=A.existing&&!C?null!==A.list:A.title.length>0,L=E.loading||D.loading;function M(){m(null)}function G(){var e;return e=re().m((function e(t){return re().w((function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),y&&F&&!L){e.n=1;break}return e.a(2);case 1:if(!A.existing){e.n=3;break}return e.n=2,E.perform({itemType:y.type,discogsId:y.discogsId,listId:A.list,comment:A.comment});case 2:M();case 3:if(A.existing){e.n=5;break}return e.n=4,D.perform({itemType:y.type,discogsId:y.discogsId,title:A.title,description:A.description,comment:A.comment});case 4:M();case 5:return e.a(2)}}),e)})),G=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){oe(i,n,o,a,c,"next",e)}function c(e){oe(i,n,o,a,c,"throw",e)}a(void 0)}))},G.apply(this,arguments)}(0,o.useEffect)((function(){var e;R({existing:!0,comment:"",title:"",description:"",list:null}),null===(e=d.current)||void 0===e||e.focus()}),[y]);var B=new Set(null!==(r=null===(i=I.data)||void 0===i||null===(i=i.viewer)||void 0===i?void 0:i.withItem.edges.map((function(e){var t;return null===(t=e.node)||void 0===t?void 0:t.discogsId})))&&void 0!==r?r:[]),$=(0,f.jsx)(n.x6,{id:"Add Master to List"});(null==y?void 0:y.type)===P.SP9.Release?$=(0,f.jsx)(n.x6,{id:"Add Release to List"}):(null==y?void 0:y.type)===P.SP9.Artist&&($=(0,f.jsx)(n.x6,{id:"Add Artist to List"}));var W=(0,f.jsx)(c.aF,{title:$,open:Boolean(y),onClose:M,children:(0,f.jsxs)("form",{onSubmit:function(e){!function(e){G.apply(this,arguments)}(e)},className:a()(ee.form,I.loading&&ee.loading),ref:d,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("input",{type:"radio",id:"existing",name:"new-or-existing",onChange:function(){R((function(e){return ae(ae({},e),{},{existing:!0})}))},checked:A.existing,disabled:C||I.loading}),(0,f.jsx)("label",{htmlFor:"existing",className:a()(C&&ee.disabled),children:(0,f.jsx)(n.x6,{id:"Existing List"})}),(0,f.jsx)("input",{type:"radio",id:"new",name:"new-or-existing",onChange:function(){R((function(e){return ae(ae({},e),{},{existing:!1})}))},checked:!A.existing,disabled:I.loading}),(0,f.jsx)("label",{htmlFor:"new",children:(0,f.jsx)(n.x6,{id:"New List"})})]}),A.existing&&(0,f.jsxs)("div",{children:[(0,f.jsx)(b,{htmlFor:"list",children:(0,f.jsx)(n.x6,{id:"List"})}),(0,f.jsxs)("select",{id:"list",onChange:function(e){var t=parseInt(e.target.value,10);R((function(e){return ae(ae({},e),{},{list:-1===t?null:t})}))},disabled:I.loading,children:[(0,f.jsx)("option",{value:"-1"}),(0,f.jsx)("optgroup",{label:s._("Recently Used"),children:N.sort((function(e,t){return e.node&&t.node?e.node.modified<t.node.modified?1:-1:0})).slice(0,5).map((function(e){if(!e.node)return null;var t=B.has(e.node.discogsId);return(0,f.jsx)("option",{value:e.node.discogsId,disabled:t,children:e.node.name},e.node.discogsId)}))}),(0,f.jsx)("optgroup",{label:s._("All Lists"),children:N.sort((function(e,t){return e.node&&t.node?e.node.name<t.node.name?-1:1:0})).map((function(e){if(!e.node)return null;var t=B.has(e.node.discogsId);return(0,f.jsx)("option",{value:e.node.discogsId,disabled:t,children:e.node.name},e.node.discogsId)}))})]})]},"existing"),!A.existing&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(b,{htmlFor:"title",children:(0,f.jsx)(n.x6,{id:"Title"})}),(0,f.jsx)("br",{}),(0,f.jsx)(l.p,{id:"title",type:"text",value:A.title,onChange:function(e){R((function(t){return ae(ae({},t),{},{title:e.target.value})}))},disabled:I.loading,"aria-required":"true"})]},"new"),(0,f.jsxs)("div",{children:[(0,f.jsx)(b,{htmlFor:"description",optional:!0,children:(0,f.jsx)(n.x6,{id:"Description"})}),(0,f.jsx)(u.f,{id:"description",onChange:function(e){R((function(t){return ae(ae({},t),{},{description:e.target.value})}))},value:A.description,disabled:I.loading,"aria-required":"false"})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)(b,{htmlFor:"comment",optional:!0,children:(0,f.jsx)(n.x6,{id:"Comments on this item"})}),(0,f.jsx)(u.f,{id:"comment",onChange:function(e){R((function(t){return ae(ae({},t),{},{comment:e.target.value})}))},value:A.comment,disabled:I.loading,"aria-required":"false"})]}),(0,f.jsxs)(j.$,{type:"submit",color:"green",disabled:L||!F||I.loading,children:[L&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(w.y,{})," ",(0,f.jsx)(n.x6,{id:"Saving..."})]}),!L&&(0,f.jsx)(n.x6,{id:"Save"})]}),(0,f.jsx)(j.$,{disabled:L,onClick:M,children:(0,f.jsx)(n.x6,{id:"Cancel"})})]})});return{open:function(e,t){T&&(m({type:e,discogsId:t}),_({variables:{itemType:e,discogsId:t}}).catch((function(e){throw new Error("add-item-to-list userLists error")})))},close:M,isOpen:Boolean(y),component:W}}},73039:(e,t,r)=>{r.d(t,{J:()=>h});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(15195),r(4895),r(18665),r(59581),r(14913),r(42169),r(87787),r(79389),r(64189),r(98741),r(94009),r(97755),r(36012),r(15852),r(10678),r(3101),r(41412),r(7899),r(4632),r(5086),r(69193),r(87136),r(6048),r(29979),r(58379),r(14602);var n=r(83744),o=r(2292),i=r(87556),a=r(25097);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,s=Object.create(u.prototype);return l(s,"_invoke",function(r,n,o){var i,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,c=0,u=e,d.n=r,a}};function p(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,d.v=n,d.n=i[1]):p<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),c=s,u=y;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:r.call(n,d))!==a)break}catch(t){i=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),s}var a={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(l(t={},n,(function(){return this})),t),p=f.prototype=c.prototype=Object.create(d);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=f,l(p,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(p),l(p,o,"Generator"),l(p,n,(function(){return this})),l(p,"toString",(function(){return"[object Generator]"})),(u=function(){return{w:i,m:y}})()}function l(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}l=function(e,t,r,n){function i(t,r){l(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},l(e,t,r,n)}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(){var e=(0,o.vz)().user,t=m((0,a.JUe)(),2),r=t[0],c=t[1],l=(0,i.ux)(n.Ru._("Could not add release to wantlist"));function f(){var t;return t=u().m((function t(n){var o;return u().w((function(t){for(;;)switch(t.n){case 0:if(o=n.discogsIds,e){t.n=1;break}return t.a(2);case 1:return t.n=2,r({variables:{input:{releaseDiscogsIds:o}},optimisticResponse:{addReleasesToWantlist:{__typename:"AddReleasesToWantlistPayload",wantlistItems:o.map((function(e){return{__typename:"WantlistItem",discogsId:Math.round(1e5*Math.random()),addedAt:(new Date).toISOString(),areNotesPublic:!1,release:{discogsId:e},notes:{markup:"",html:""}}}))}},update:function(e,t){var r;if(t.data){var n,o=s(null!==(r=t.data.addReleasesToWantlist.wantlistItems)&&void 0!==r?r:[]);try{var i=function(){var t=n.value;if(!t)return 1;var r=e.identify({__typename:"Release",discogsId:t.release.discogsId}),o=e.readFragment({id:r,fragment:a.aD8});e.modify({id:e.identify({__typename:"Release",discogsId:t.release.discogsId}),fields:{inWantlist:function(){return e.writeFragment({fragment:a.eP1,data:t})}}}),null!=o&&o.masterRelease&&e.modify({id:e.identify({__typename:"MasterRelease",discogsId:o.masterRelease.discogsId}),fields:{inUserWantlistCount:function(e){return(null!=e?e:0)+1}}})};for(o.s();!(n=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}}}}).catch(l);case 2:return t.a(2)}}),t)})),f=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){y(i,n,o,a,c,"next",e)}function c(e){y(i,n,o,a,c,"throw",e)}a(void 0)}))},f.apply(this,arguments)}return d(d({},c),{},{perform:function(e){return f.apply(this,arguments)}})}},98655:(e,t,r)=>{r.d(t,{b:()=>h});r(63534),r(40590),r(64216),r(36611),r(17),r(58476),r(15195),r(4895),r(18665),r(14913),r(87787),r(79389),r(64189),r(98741),r(94009),r(97755),r(36012),r(15852),r(10678),r(3101),r(41412),r(7899),r(4632),r(5086),r(69193),r(87136),r(6048),r(29979),r(58379),r(14602);var n=r(83744),o=r(2292),i=r(87556),a=r(25097);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var u=n&&n.prototype instanceof c?n:c,s=Object.create(u.prototype);return l(s,"_invoke",function(r,n,o){var i,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,c=0,u=e,d.n=r,a}};function p(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],p=d.p,y=i[2];r>3?(o=y===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,d.v=n,d.n=i[1]):p<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,c=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),c=s,u=y;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:r.call(n,d))!==a)break}catch(t){i=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,i),!0),s}var a={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(l(t={},n,(function(){return this})),t),p=f.prototype=c.prototype=Object.create(d);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=f,l(p,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(p),l(p,o,"Generator"),l(p,n,(function(){return this})),l(p,"toString",(function(){return"[object Generator]"})),(u=function(){return{w:i,m:y}})()}function l(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}l=function(e,t,r,n){function i(t,r){l(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},l(e,t,r,n)}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(){var e=(0,i.ux)(n.Ru._("Could not remove release from wantlist")),t=m((0,a.b6k)(),2),r=t[0],c=t[1],l=(0,o.vz)().user;function f(){var t;return t=u().m((function t(n){var o;return u().w((function(t){for(;;)switch(t.n){case 0:if(o=n.discogsIds,l){t.n=1;break}return t.a(2);case 1:return t.n=2,r({variables:{input:{releaseDiscogsIds:o}},optimisticResponse:{removeReleasesFromWantlist:{__typename:"RemoveItemPayload",success:!0}},update:function(e,t){var r,n=s(o);try{for(n.s();!(r=n.n()).done;){var i=r.value,c=e.identify({__typename:"Release",discogsId:i}),u=e.readFragment({id:c,fragment:a.aD8});e.modify({id:e.identify({__typename:"Release",discogsId:i}),fields:{inWantlist:function(e){return t.data?null:e}}}),null!=u&&u.masterRelease&&e.modify({id:e.identify({__typename:"MasterRelease",discogsId:u.masterRelease.discogsId}),fields:{inUserWantlistCount:function(e){return Math.max(0,(null!=e?e:0)-1)}}})}}catch(e){n.e(e)}finally{n.f()}}}).catch(e);case 2:return t.a(2)}}),t)})),f=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){y(i,n,o,a,c,"next",e)}function c(e){y(i,n,o,a,c,"throw",e)}a(void 0)}))},f.apply(this,arguments)}return d(d({},c),{},{perform:function(e){return f.apply(this,arguments)}})}}}]);
//# sourceMappingURL=4a5420ae.js.map