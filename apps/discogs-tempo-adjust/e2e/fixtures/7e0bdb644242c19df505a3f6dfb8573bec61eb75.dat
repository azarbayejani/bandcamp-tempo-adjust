/*! For license information please see c0fbd93c.js.LICENSE.txt */
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6962],{56962:(t,r,n)=>{n.d(r,{q:()=>E});n(63534),n(40590),n(64216),n(15195),n(4895),n(18665),n(14913),n(79389),n(64189),n(98741),n(97755),n(15852),n(41412),n(4632),n(5086),n(69193),n(87136),n(6048),n(29979),n(14602);var e=n(53700),o=n(2292),i=n(32166),a=(n(36611),n(17),n(58476),n(87787),n(94009),n(36012),n(10678),n(3101),n(7899),n(58379),n(25097));function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(){var t,r,n="function"==typeof Symbol?Symbol:{},e=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,e,o,i){var c=e&&e.prototype instanceof u?e:u,l=Object.create(c.prototype);return f(l,"_invoke",function(n,e,o){var i,u,c,f=0,l=o||[],s=!1,y={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(r,n){return i=r,u=0,c=t,y.n=n,a}};function p(n,e){for(u=n,c=e,r=0;!s&&f&&!o&&r<l.length;r++){var o,i=l[r],p=y.p,d=i[2];n>3?(o=d===e)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,y.v=e,y.n=i[1]):p<d&&(o=n<3||i[0]>e||e>d)&&(i[4]=n,i[5]=e,y.n=d,u=0))}if(o||n>1)return a;throw s=!0,e}return function(o,l,d){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&p(l,d),u=l,c=d;(r=u<2?t:c)||!s;){i||(u?u<3?(u>1&&(y.n=-1),p(u,c)):y.n=c:y.v=c);try{if(f=2,i){if(u||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=i.return)&&r.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((r=(s=y.n<0)?c:n.call(e,y))!==a)break}catch(r){i=t,u=1,c=r}finally{f=1}}return{value:r,done:s}}}(n,o,i),!0),l}var a={};function u(){}function l(){}function s(){}r=Object.getPrototypeOf;var y=[][e]?r(r([][e]())):(f(r={},e,(function(){return this})),r),p=s.prototype=u.prototype=Object.create(y);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,f(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=s,f(p,"constructor",s),f(s,"constructor",l),l.displayName="GeneratorFunction",f(s,o,"GeneratorFunction"),f(p),f(p,o,"Generator"),f(p,e,(function(){return this})),f(p,"toString",(function(){return"[object Generator]"})),(c=function(){return{w:i,m:d}})()}function f(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}f=function(t,r,n,e){function i(r,n){f(t,r,(function(t){return this._invoke(r,n,t)}))}r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:(i("next",0),i("throw",1),i("return",2))},f(t,r,n,e)}function l(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function s(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?l(Object(n),!0).forEach((function(r){y(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function y(t,r,n){return(r=function(t){var r=function(t,r){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,r||"default");if("object"!=u(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==u(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function p(t,r,n,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?r(c):Promise.resolve(c).then(e,o)}function d(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){p(i,e,o,a,u,"next",t)}function u(t){p(i,e,o,a,u,"throw",t)}a(void 0)}))}}function v(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var e,o,i,a,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,0===r){if(Object(n)!==n)return;c=!1}else for(;!(c=(e=i.call(n)).done)&&(u.push(e.value),u.length!==r);c=!0);}catch(t){f=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return u}}(t,r)||function(t,r){if(t){if("string"==typeof t)return b(t,r);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function g(t){return Math.round(100*t)/100}var m=n(18505);const h={ratings:"ratings_eL9mu",addPadding:"addPadding_PAQVs"};var O=n(32485),j=n.n(O),w=n(74848);function _(){var t,r,n="function"==typeof Symbol?Symbol:{},e=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,e,o,i){var c=e&&e.prototype instanceof u?e:u,f=Object.create(c.prototype);return S(f,"_invoke",function(n,e,o){var i,u,c,f=0,l=o||[],s=!1,y={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(r,n){return i=r,u=0,c=t,y.n=n,a}};function p(n,e){for(u=n,c=e,r=0;!s&&f&&!o&&r<l.length;r++){var o,i=l[r],p=y.p,d=i[2];n>3?(o=d===e)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,y.v=e,y.n=i[1]):p<d&&(o=n<3||i[0]>e||e>d)&&(i[4]=n,i[5]=e,y.n=d,u=0))}if(o||n>1)return a;throw s=!0,e}return function(o,l,d){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&p(l,d),u=l,c=d;(r=u<2?t:c)||!s;){i||(u?u<3?(u>1&&(y.n=-1),p(u,c)):y.n=c:y.v=c);try{if(f=2,i){if(u||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=i.return)&&r.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((r=(s=y.n<0)?c:n.call(e,y))!==a)break}catch(r){i=t,u=1,c=r}finally{f=1}}return{value:r,done:s}}}(n,o,i),!0),f}var a={};function u(){}function c(){}function f(){}r=Object.getPrototypeOf;var l=[][e]?r(r([][e]())):(S(r={},e,(function(){return this})),r),s=f.prototype=u.prototype=Object.create(l);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,S(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return c.prototype=f,S(s,"constructor",f),S(f,"constructor",c),c.displayName="GeneratorFunction",S(f,o,"GeneratorFunction"),S(s),S(s,o,"Generator"),S(s,e,(function(){return this})),S(s,"toString",(function(){return"[object Generator]"})),(_=function(){return{w:i,m:y}})()}function S(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}S=function(t,r,n,e){function i(r,n){S(t,r,(function(t){return this._invoke(r,n,t)}))}r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:(i("next",0),i("throw",1),i("return",2))},S(t,r,n,e)}function P(t,r,n,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?r(c):Promise.resolve(c).then(e,o)}function A(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var e,o,i,a,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,0===r){if(Object(n)!==n)return;c=!1}else for(;!(c=(e=i.call(n)).done)&&(u.push(e.value),u.length!==r);c=!0);}catch(t){f=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw o}}return u}}(t,r)||function(t,r){if(t){if("string"==typeof t)return R(t,r);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function E(t){var r,n=t.discogsId,u=t.rating,f=t.addPadding,l=(0,o.vz)().user,y=function(t){var r=t.discogsId,n=t.rating,e=v((0,a.CK)(),2),o=e[0];function i(){return(i=d(c().m((function t(e){return c().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,o({variables:{input:{discogsId:r,rating:e}},optimisticResponse:{rateRelease:{__typename:"RateReleasePayload",rating:{__typename:"Rating",id:Math.random().toString(),value:e}}},update:function(t,o){t.modify({id:t.identify({__typename:"Release",discogsId:r}),fields:{rating:function(){return{__typename:"Rating",id:Math.random().toString(),value:e}},ratings:function(t){if(!t)return{totalCount:1,averageRating:e};var r=g((t.totalCount*t.averageRating+e)/(t.totalCount+1));return s(s({},t),{},{totalCount:t.totalCount+(n?0:1),averageRating:r})}}})}});case 1:return t.a(2)}}),t)})))).apply(this,arguments)}return[function(t){return i.apply(this,arguments)},e[1]]}({discogsId:n,rating:u}),p=A(y,1)[0],b=function(t){var r=t.discogsId,n=t.rating,e=v((0,a.dPG)(),2),o=e[0];function i(){return(i=d(c().m((function t(){return c().w((function(t){for(;;)switch(t.n){case 0:if(n){t.n=1;break}return t.a(2);case 1:return t.n=2,o({variables:{input:{discogsId:r}},optimisticResponse:{removeReleaseRating:{__typename:"RemoveReleaseRatingPayload",success:!0}},update:function(t,e){t.modify({id:t.identify({__typename:"Release",discogsId:r}),fields:{rating:function(t,r){return r.DELETE},ratings:function(t){var r;if(!t)return t;var e=g((t.totalCount*t.averageRating-(null!==(r=n.value)&&void 0!==r?r:0))/(t.totalCount-1));return s(s({},t),{},{totalCount:t.totalCount-1,averageRating:e})}}})}});case 2:return t.a(2)}}),t)})))).apply(this,arguments)}return[function(){return i.apply(this,arguments)},e[1]]}({discogsId:n,rating:u}),O=A(b,1)[0],S=(0,m.Mj)();function R(){var t;return t=_().m((function t(r){return _().w((function(t){for(;;)switch(t.n){case 0:return S("Add Rating"),t.n=1,(0,i.c)(10);case 1:if(l){t.n=2;break}return(0,o.iD)(),t.a(2);case 2:if(null!==r){t.n=4;break}return t.n=3,O();case 3:t.n=5;break;case 4:return t.n=5,p(r);case 5:return t.a(2)}}),t)})),R=function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){P(i,e,o,a,u,"next",t)}function u(t){P(i,e,o,a,u,"throw",t)}a(void 0)}))},R.apply(this,arguments)}var E=j()(h.ratings,f&&h.addPadding);return(0,w.jsx)("div",{className:E,children:(0,w.jsx)(e.Z0,{value:null!==(r=null==u?void 0:u.value)&&void 0!==r?r:0,onChange:function(t){return R.apply(this,arguments)}})})}},32166:(t,r,n)=>{n.d(r,{c:()=>e});n(5086),n(69193);function e(t){return new Promise((function(r){setTimeout(r,t)}))}}}]);
//# sourceMappingURL=c0fbd93c.js.map