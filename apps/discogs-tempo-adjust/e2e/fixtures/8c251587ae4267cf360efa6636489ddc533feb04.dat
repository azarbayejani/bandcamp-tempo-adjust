(function(g){var window=this;'use strict';var xd=function(m){m.publish("cardstatechange",m.zN()&&m.QP()?1:0)},MW=function(m,F){var L=g.xe(F),u=L?F:arguments;
for(L=L?0:1;L<u.length;L++){if(m==null)return;m=m[u[L]]}return m},p$C=function(m){var F=g.Vr(m);
m=g.Rg(m);return new g.mL(F.x,F.y,m.width,m.height)},K5C=function(m,F,L){var u=u===void 0?{}:u;
var q;return q=g.TL(m,F,function(){g.NY(q);L.apply(m,arguments)},u)},oX=function(m){m=g.oG(m);
delete Zo[m];g.K0(Zo)&&S1&&S1.stop()},xim=function(){S1||(S1=new g.Bk(function(){fRe()},20));
var m=S1;m.isActive()||m.start()},fRe=function(){var m=g.ke();
g.aZ(Zo,function(F){MRc(F,m)});
g.K0(Zo)||xim()},XB=function(m,F,L,u){g.wm.call(this);
if(!Array.isArray(m)||!Array.isArray(F))throw Error("Start and end parameters must be arrays");if(m.length!=F.length)throw Error("Start and end points must be the same length");this.B=m;this.Z=F;this.duration=L;this.Y=u;this.coords=[];this.progress=this.L=0;this.V=null},MRc=function(m,F){F<m.startTime&&(m.endTime=F+m.endTime-m.startTime,m.startTime=F);
m.progress=(F-m.startTime)/(m.endTime-m.startTime);m.progress>1&&(m.progress=1);m.L=1E3/(F-m.V);m.V=F;Z_G(m,m.progress);m.progress==1?(m.X=0,oX(m),m.onFinish(),m.Rs()):m.isPlaying()&&m.BN()},Z_G=function(m,F){typeof m.Y==="function"&&(F=m.Y(F));
m.coords=Array(m.B.length);for(var L=0;L<m.B.length;L++)m.coords[L]=(m.Z[L]-m.B[L])*F+m.B[L]},SbC=function(m,F){g.L4.call(this,m);
this.coords=F.coords;this.x=F.coords[0];this.y=F.coords[1];this.z=F.coords[2];this.duration=F.duration;this.progress=F.progress;this.fps=F.L;this.state=F.X},tN=function(m,F,L,u,q){XB.call(this,F,L,u,q);
this.element=m},o7Z=function(m,F,L,u,q){if(F.length!=2||L.length!=2)throw Error("Start and end points must be 2D");
tN.call(this,m,F,L,u,q)},X$e=function(m){return Math.pow(m,3)},tRt=function(m){return 3*m*m-2*m*m*m},E7G=function(m){g.O.call(this);
this.B=m||window;this.X=[]},Eq=function(m){return m.baseUrl||null},Uq=function(m,F){return g.U6(g.xZ(m,F),function(L){return!!L})},UiR=function(m,F,L){function u(FM){var r_=FM.hovercardButton;
if(!r_)return null;r_=r_.subscribeButtonRenderer;if(!r_)return null;var ju=A(r_.unsubscribedButtonText),LM=A(r_.subscribedButtonText);if(r_.subscribed){var g_=A(r_.subscriberCountWithUnsubscribeText);var BN=A(r_.subscriberCountText)}else g_=A(r_.subscriberCountText),BN=A(r_.subscriberCountWithSubscribeText);var r6=null;if(FM.signinEndpoint){r6=MW(FM,"signinEndpoint","webNavigationEndpointData","url");if(!r6){var Af,by;r6=(by=g.z((Af=r_.signInEndpoint)==null?void 0:Af.commandMetadata,g.Yu))==null?
void 0:by.url}if(!r6)return null}return ju&&(LM||r6)?{subscribed:r_.subscribed,subscribeText:ju,subscribeCount:g_,unsubscribeText:LM,unsubscribeCount:BN,enabled:r_.enabled,signinUrl:r6,classic:FM.useClassicSubscribeButton}:null}
function q(FM){if(FM){var r_=[],ju=FM.videoId;ju&&r_.push("v="+ju);(ju=FM.playlistId)&&r_.push("list="+ju);(FM=FM.startTimeSeconds)&&r_.push("t="+FM);return"/watch?"+r_.join("&")}}
function A(FM){if(!FM)return null;var r_=FM.simpleText;return r_?r_:FM.runs?g.xZ(FM.runs,function(ju){return ju.text}).join(""):null}
F=F.endscreenElementRenderer;if(!F)return null;var r=F.style,G=F.endpoint||{},v=null,l=null,w=!1,V=null,I=null,R=null,e=null,a=!1,T=null,f=null,M=null,S=null,t=null,b=null;if(r==="VIDEO")g.z(G,g.Sn)?v=g.z(G,g.Sn).url:(b=g.z(G,g.iZ),v=q(b)),l=!1,V=m,F.thumbnailOverlays?(w=F.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,I=A(w.text),w=w.style==="LIVE"):I=A(F.videoDuration);else if(r==="PLAYLIST")g.z(G,g.Sn)?v=g.z(G,g.Sn).url:(b=g.z(G,g.iZ),v=q(b)),l=!1,V=m,R=A(F.playlistLength);else if(r===
"CHANNEL"){if(a=MW(G,"browseEndpoint","browseId"))e=a,v="/channel/"+e;l=!1;V="new";(a=!!F.isSubscribe)?T=u(F):f=A(F.subscribersText)}else r==="WEBSITE"?((M=MW(G,"urlEndpoint","url"))&&(v=M),l=!0,V="new",M=F.icon.thumbnails[0].url):r==="CREATOR_MERCHANDISE"&&(F.productPrice&&(S=A(F.productPrice)),F.additionalFeesText&&(t=A(F.additionalFeesText)),(l=MW(G,"urlEndpoint","url"))&&(v=l),l=!0,V="new");m=MW(F,"title","accessibility","accessibilityData","label");var W=F.endpoint?F.endpoint.clickTrackingParams:
null,H="";if(F.metadata){var mB=A(F.metadata);mB&&(H=mB)}return{id:"element-"+L,type:r,title:A(F.title),metadata:H,callToAction:A(F.callToAction),Pe:F.image,iconUrl:M,left:Number(F.left),width:Number(F.width),top:Number(F.top),aspectRatio:Number(F.aspectRatio),startMs:Math.floor(Number(F.startMs)),endMs:Math.floor(Number(F.endMs)),videoDuration:I,gx:w,playlistLength:R,channelId:e,subscribeButton:T,subscribersText:f,isSubscribe:a,targetUrl:v||null,XRP:l,sessionData:W?{itct:W}:null,MbY:V,qq:m?m:null,
isPlaceholder:F.isPlaceholder,impressionUrls:Uq(F.impressionUrls||[],Eq),RzR:Uq(F.hovercardShowUrls||[],Eq),clickUrls:Uq(G.loggingUrls||[],Eq),visualElement:g.IN(F.trackingParams),productPrice:S,additionalFeesText:t,watchEndpoint:b||null}},kJN=function(m,F){var L={startMs:Math.floor(Number(m.startMs)),
impressionUrls:Uq(m.impressionUrls||[],Eq),elements:Uq(m.elements||[],function(u,q){return UiR(F,u,q)})};
m.trackingParams&&(L.visualElement=g.IN(m.trackingParams));return L},hGR=function(m){g.$G.call(this,m);
this.V=this.endscreen=null;this.B={};this.L={};this.Y=this.G=null;this.W=[];this.X=null;this.Bb=!0;this.Z=0;m=m.C();this.hF=g.Bs(m)||g.Jk(m);this.events=new g.j7(this);g.Q(this,this.events);this.events.K(this.player,g.s5("creatorendscreen"),this.onCueRangeEnter);this.events.K(this.player,g.bz("creatorendscreen"),this.onCueRangeExit);this.events.K(this.player,"resize",this.RI);this.events.K(window,"focus",this.E5Y);this.load();var F=g.fk("STYLE");(g.iI("HEAD")[0]||document.body).appendChild(F);this.addOnDisposeCallback(function(){g.o2(F)});
F.sheet&&(F.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),F.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},W5C=function(m){return m.player.getVideoData().RH?"current":m.hF?"new":"current"},kd=function(m){return m.player.C().playerStyle==="creator-endscreen-editor"},O_6=function(m){var F=m.player.getVideoData(),L=F.videoId;
m.V&&m.V.abort();L={method:"POST",onFinish:function(q){var A=m.V=null;q.status===200&&(q=q.responseText,q.substring(0,3)===")]}"&&(q=q.substring(3),A=JSON.parse(q),A=kJN(A,W5C(m))));hN(m,A)},
urlParams:{v:L},withCredentials:!0};m.hF&&(L.urlParams.ptype="embedded");var u=F.TF;u&&(L.postParams={ad_tracking:u});if(F=g.Uhv(F))if(F=g.TJ(F),F=g.Y7(F))m.V=g.pA(F,L)},hN=function(m,F,L){L=L===void 0?!0:L;
m.player.kM("creatorendscreen");m.G&&(m.G.dispose(),m.G=null,m.Y.dispose(),m.Y=null);for(var u=g.Z(Object.values(m.B)),q=u.next();!q.done;q=u.next())q.value.dispose();m.B={};m.L={};m.W.length>0&&(m.W.forEach(function(G){G.dispose()}),m.W.length=0);
m.X&&(g.GE(m.X,"ytp-ce-element-show"),m.X.setAttribute("aria-hidden","true"));m.Z=0;if((m.endscreen=F)&&F.elements){L&&Qom(m);L=[];u=new g.O5(F.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});L.push(u);m.player.C().B||(m.G=new g.d({U:"div",J:"ytp-ce-shadow"}),g.Jb(m.player,m.G.element,4),m.Y=new g.Jd(m.G,200));for(u=0;u<F.elements.length;++u){q=F.elements[u];var A=sot(m,q);if(A){m.B[q.id]=A;m.L[q.id]=q;g.Jb(m.player,A.element,4);var r=new g.O5(q.startMs,q.endMs,{id:"ytp-ce-element-"+
q.id,namespace:"creatorendscreen"});L.push(r);b_G(m,A,q)}else g.K$(new g.oZ("buildEndscreenElement null",q))}m.player.RK(L);m.RI()}},Qom=function(m){var F=g.eK(),L=g.Pe();
L&&F&&m.endscreen.visualElement&&g.Fs(g.hM)(void 0,L,F,m.endscreen.visualElement)},sot=function(m,F){var L=null;
switch(F.type){case "VIDEO":m={U:"div",UR:["ytp-ce-element","ytp-ce-video"],D:{tabindex:"0","aria-label":F.qq||"","aria-hidden":"true"},T:[{U:"div",J:"ytp-ce-element-shadow"},{U:"div",J:"ytp-ce-covering-image",D:W6(F)},{U:"div",J:"ytp-ce-covering-shadow-top"},{U:"a",J:"ytp-ce-covering-overlay",D:{href:Oq(m,F.targetUrl),tabindex:"-1"},T:[{U:"div",UR:["ytp-ce-video-title","ytp-webkit-ellipsis"],D:{dir:g.$9(F.title||"")},G0:F.title},{U:"div",J:F.gx?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
G0:F.videoDuration||void 0}]}]};L=new g.d(m);break;case "PLAYLIST":m={U:"div",UR:["ytp-ce-element","ytp-ce-playlist"],D:{tabindex:"0","aria-label":F.qq||"","aria-hidden":"true"},T:[{U:"div",J:"ytp-ce-element-shadow"},{U:"div",J:"ytp-ce-covering-image",D:W6(F)},{U:"div",J:"ytp-ce-covering-shadow-top"},{U:"a",J:"ytp-ce-covering-overlay",D:{href:Oq(m,F.targetUrl),tabindex:"-1"},T:[{U:"div",UR:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],D:{dir:g.$9(F.title||"")},G0:F.title},{U:"div",J:"ytp-ce-playlist-count",
T:[{U:"div",J:"ytp-ce-playlist-icon"},{U:"div",J:"ytp-ce-playlist-count-text",G0:F.playlistLength||void 0}]}]}]};L=new g.d(m);break;case "CHANNEL":L={U:"div",UR:["ytp-ce-element","ytp-ce-channel",F.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],D:{tabindex:"0","aria-label":F.qq||"","aria-hidden":"true"},T:[{U:"div",J:"ytp-ce-element-shadow"},{U:"div",J:"ytp-ce-expanding-overlay",T:[{U:"div",J:"ytp-ce-expanding-overlay-hider"},{U:"div",J:"ytp-ce-expanding-overlay-background"},{U:"div",J:"ytp-ce-expanding-overlay-content",
T:[{U:"div",J:"ytp-ce-expanding-overlay-body",T:[{U:"div",J:"ytp-ce-expanding-overlay-body-padding",T:[{U:"a",UR:["ytp-ce-channel-title","ytp-ce-link"],D:{href:Oq(m,F.targetUrl),target:"_blank",tabindex:"-1",dir:g.$9(F.title||"")},G0:F.title},F.subscribeButton?{U:"div",J:"ytp-ce-subscribe-container",T:[{U:"div",J:"ytp-ce-channel-subscribe"}]}:"",F.subscribersText?{U:"div",J:"ytp-ce-channel-subscribers-text",G0:F.subscribersText}:"",F.metadata?{U:"div",UR:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],G0:F.metadata}:""]}]}]}]},{U:"div",J:"ytp-ce-expanding-image",D:W6(F)}]};L=new g.d(L);var u=g.z0(document,"div","ytp-ce-channel-subscribe",L.element)[0];if(F.subscribeButton&&F.channelId){g.rm(u,"ytp-ce-subscribe-button");if(m.player.C().B){var q=null;var A=F.sessionData.itct}else q="endscreen",A=null;q=new g.H0(F.subscribeButton.subscribeText,F.subscribeButton.subscribeCount,F.subscribeButton.unsubscribeText,F.subscribeButton.unsubscribeCount,!!F.subscribeButton.enabled,!!F.subscribeButton.classic,
F.channelId,!!F.subscribeButton.subscribed,q,A,m.player,!1);u.appendChild(q.element);m.W.push(q)}break;case "WEBSITE":m={U:"div",UR:["ytp-ce-element","ytp-ce-website"],D:{tabindex:"0","aria-label":F.qq||"","aria-hidden":"true"},T:[{U:"div",J:"ytp-ce-element-shadow"},{U:"div",J:"ytp-ce-expanding-overlay",T:[{U:"div",J:"ytp-ce-expanding-overlay-hider"},{U:"div",J:"ytp-ce-expanding-overlay-background"},{U:"div",J:"ytp-ce-expanding-overlay-content",T:[{U:"div",J:"ytp-ce-expanding-overlay-body",T:[{U:"div",
J:"ytp-ce-expanding-overlay-body-padding",T:[{U:"div",J:"ytp-ce-website-title",D:{dir:g.$9(F.title||"")},G0:F.title},{U:"div",J:"ytp-ce-website-metadata",G0:F.metadata},{U:"a",UR:["ytp-ce-website-goto","ytp-ce-link"],D:{href:Oq(m,F.targetUrl),target:"_blank",tabindex:"-1"},G0:F.callToAction}]}]}]}]},{U:"div",J:"ytp-ce-expanding-image",D:W6(F)},{U:"div",J:"ytp-ce-expanding-icon",D:cJ2(F.iconUrl)}]};L=new g.d(m);break;case "CREATOR_MERCHANDISE":L="",F.productPrice&&(L={U:"div",J:"ytp-ce-merchandise-price-container",
T:[{U:"div",J:"ytp-ce-merchandise-price",G0:F.productPrice}]},F.additionalFeesText&&L.T.push({U:"div",J:"ytp-ce-merchandise-additional-fees",G0:F.additionalFeesText})),m={U:"div",UR:["ytp-ce-element","ytp-ce-merchandise"],D:{tabindex:"0","aria-label":F.qq||"","aria-hidden":"true"},T:[{U:"div",J:"ytp-ce-element-shadow"},{U:"div",J:"ytp-ce-expanding-overlay",T:[{U:"div",J:"ytp-ce-expanding-overlay-hider"},{U:"div",J:"ytp-ce-expanding-overlay-background"},{U:"div",J:"ytp-ce-expanding-overlay-content",
T:[{U:"div",J:"ytp-ce-expanding-overlay-body",T:[{U:"div",J:"ytp-ce-expanding-overlay-body-padding",T:[{U:"div",J:"ytp-ce-merchandise-title",D:{dir:g.$9(F.title||"")},G0:F.title},L,{U:"div",J:"ytp-ce-merchandise-metadata",G0:F.metadata},{U:"a",UR:["ytp-ce-merchandise-goto","ytp-ce-link"],D:{href:Oq(m,F.targetUrl),target:"_blank",tabindex:"-1"},G0:F.callToAction}]}]}]}]},{U:"div",J:"ytp-ce-expanding-image",D:W6(F)},{U:"div",J:"ytp-ce-merchandise-invideo-cta-container",T:[{U:"div",J:"ytp-ce-merchandise-invideo-cta",
G0:F.callToAction||void 0}]}]},L=new g.d(m)}F.isPlaceholder&&g.rm(L.element,"ytp-ce-placeholder");return L},W6=function(m){if(m.Pe)var F=m.Pe.thumbnails;
return cJ2(F?F[F.length-1].url:null)},cJ2=function(m){return m?{style:"background-image: url("+m+")"}:{}},b_G=function(m,F,L){function u(v){v&&(F.listen("blur",function(){v.style.display!="none"&&m.Bb&&v.focus()}),F.K(v,"focus",A),F.K(v,"blur",r))}
function q(v){m.Z+=v;m.Z>0?(g.rm(F.element,"ytp-ce-force-expand"),QF(m,L.id,!0)):(g.GE(F.element,"ytp-ce-force-expand"),g.GE(F.element,"ytp-ce-element-hover"),QF(m,L.id,!1))}
function A(){q(1)}
function r(){q(-1)}
F.listen("mouseenter",function(){diC(m,F,L)});
F.listen("mouseleave",function(){n7C(m,F,L)});
m.player.C().B||F.listen("click",function(){g.rm(F.element,"ytp-ce-element-hover")});
F.listen("click",function(v){BlC(m,L,v)});
F.listen("keypress",function(v){BlC(m,L,v)});
F.listen("focus",function(){diC(m,F,L)});
F.listen("blur",function(){n7C(m,F,L)});
F.listen("touchstart",function(){diC(m,F,L)});
var G=g.Yj("ytp-ce-expanding-overlay-hider",F.element);G&&F.K(G,"touchstart",function(v){v.stopPropagation();g.GE(F.element,"ytp-ce-element-hover");g.GE(F.element,"ytp-ce-force-expand")});
F.listen("keydown",function(v){m.Bb=v.keyCode===9&&!v.shiftKey});
u(g.Yj("ytp-sb-subscribe",F.element));u(g.Yj("ytp-sb-unsubscribe",F.element));F.listen("focus",A);F.listen("blur",r)},BlC=function(m,F,L){if(F.targetUrl&&(!L||L.type!=="keypress"||L.keyCode===13)){for(var u=L.target;u&&!g.A4(u,"ytp-ce-element");){g.A4(u,"subscribe-label")&&H_C(m,F);
if(g.A4(u,"ytp-ce-channel-subscribe"))return;u=u.parentElement||null}if(!u||g.A4(u,"ytp-ce-element-hover")){L.preventDefault();L.stopPropagation();if(u=m.B[F.id])n7C(m,u,F),u.element.blur();if(L.ctrlKey||L.metaKey||F.MbY==="new")H_C(m,F),m.player.sendVideoStatsEngageEvent(17,void 0),m.player.pauseVideo(),L=g.TJ(Oq(m,F.targetUrl)),L=g.Y7(L),g.hE(L,void 0,F.sessionData);else{var q=g.wa(m.player.C())||m.player.getVideoData().RH,A=function(){var r=Oq(m,F.targetUrl),G=F.sessionData,v=F.watchEndpoint,l=
g.rd(r);q&&l&&(l.v||l.list)?m.player.FL(l.v,G,l.list,!1,void 0,v||void 0):g.k2(r,G)};
H_C(m,F,function(){m.player.sendVideoStatsEngageEvent(17,A)})}}}},Oq=function(m,F){m=m.player.C();
if(F){if(F.startsWith("//"))return m.protocol+":"+F;if(F.startsWith("/"))return g.i2(m)+F}else return"";return F},diC=function(m,F,L){g.A4(F.element,"ytp-ce-element-hover")||(L.type==="VIDEO"||L.type==="PLAYLIST"?g.rm(F.element,"ytp-ce-element-hover"):m.player.C().B?(new g.Bk(function(){g.rm(F.element,"ytp-ce-element-hover")},200)).start():g.rm(F.element,"ytp-ce-element-hover"),sq(m,L.RzR),QF(m,L.id,!0))},n7C=function(m,F,L){g.GE(F.element,"ytp-ce-element-hover");
g.GE(F.element,"ytp-ce-force-expand");QF(m,L.id,!1)},QF=function(m,F,L){m.G&&(L?m.Y.show():m.Y.hide());
for(var u=g.Z(Object.keys(m.B)),q=u.next();!q.done;q=u.next())q=q.value,q!==F&&g.lT(m.B[q].element,"ytp-ce-element-shadow-show",L)},sq=function(m,F,L){function u(){A||(q++,q===F.length&&(r.stop(),L&&L()))}
if(!F||F.length===0||kd(m))L&&L();else{F=JJC(m,F);var q=0,A=!1,r=new g.Bk(function(){A=!0;L&&L()},1E3,m);
r.start();for(m=0;m<F.length;m++)g.oE(F[m],u)}},H_C=function(m,F,L){sq(m,F.clickUrls,L);
(m=g.Pe())&&F.XRP&&g.JM(m,F.visualElement)},JJC=function(m,F){var L=m.player.getVideoData().clientPlaybackNonce;
m=m.player.getCurrentTime().toFixed(2);L={CPN:L,AD_CPN:L,MT:m};m=[];for(var u=0;u<F.length;u++)m.push(Cit(F[u],L));return m},Cit=function(m,F){return m.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(L){var u=unescape(L);
u=u.substring(1,u.length-1);return F[u]?escape(F[u]):L})},mLe=function(m){return typeof m==="string"?m:""},bj=function(m,F,L){for(var u in F)if(F[u]===m)return m;
return L},FNq=function(m,F,L,u){this.value=m;
this.target=F;this.showLinkIcon=L;this.X=u},c6=function(m){return m.value?m.value:null},d7=function(m){if(!m)return null;
var F=g.TJ(mLe(m.value));F=g.Y7(F);if(!F)return null;var L=bj(m.target,LNG,"current");if(L==null)m=null;else{var u=m.show_link_icon;m=new FNq(F,L,u==="true"||u==="false"?u==="true":!0,m.pause_on_navigation!=null?m.pause_on_navigation:!0)}return m},ulG=function(m,F,L){this.type=m;
this.trigger=F;this.url=L},rQC=function(m){if(!m)return null;
var F=bj(m.type,qEq),L=bj(m.trigger,AQf);m=m.url;m=Array.isArray(m)&&m.length?m[0]:m;m=d7(m?m:null);return F?new ulG(F,L,m):null},yQC=function(m,F,L,u,q){this.id=m;
this.type=F;this.style=L;this.data=q;this.action=u||[]},G08=function(m,F){return g.c2(m.action,F)},vjR=function(m,F){this.context=m;
this.X=F},lU6=function(m){return m.customMessage?nh("div","iv-card-message",m.customMessage):""},B6=function(m,F){m="background-image: url("+m+");";
var L=[];F&&L.push(F);return{U:"div",J:"iv-card-image",D:{style:m},T:L}},wrC=function(m){if(!m.metaInfo||m.metaInfo.length===0)return"";
var F=[];m=g.Z(m.metaInfo);for(var L=m.next();!L.done;L=m.next())F.push(nh("li","",L.value));return{U:"ul",J:"iv-card-meta-info",T:F}},nh=function(m,F,L){F?typeof F==="string"?F={"class":F}:Array.isArray(F)&&(F={"class":F.join(" ")}):F={};
F.dir=g.$9(L);return{U:m,D:F,G0:L}},V38=function(m){if(!m.customMessage)return"";
var F=["iv-card-action","iv-card-primary-link"],L={};m.vK&&(F.push("iv-card-action-icon"),L.style="background-image: url("+m.vK+");");L.dir=g.$9(m.customMessage);var u=[{U:"span",G0:m.customMessage}];m.showLinkIcon&&(u.push("\u00a0"),u.push({U:"span",J:"iv-card-link-icon"}));return{U:"div",UR:F,D:L,T:u}},H6=function(m,F,L,u){if(u){F=g.Z(F);
for(var q=F.next();!q.done;q=F.next())m.X(q.value,u,L.id,L.sessionData,L.Gi.click,5)}},j22=function(m,F){this.merchant=m;
this.price=F},IUR=function(m){var F;
(F=m)&&!(F=m.length>1?m.charAt(0)==="/"&&m.charAt(1)!=="/":m==="/")&&(F=m.replace(/^(https?:)?\/\//,"").split("/",1),F=!F||F.length<1||!F[0]?[]:F[0].toLowerCase().split(".").reverse(),F=F[0]==="com"&&F[1]==="youtube"||F[0]==="be"&&F[1]==="youtu");return F?m.indexOf("/redirect?")===-1:!1},RCC=function(m,F){return F?F:IUR(m)?"current":"new"},JN=function(m,F){g.O.call(this);
var L=this;this.element=m;this.context=F;this.q0=!1;this.AF=new Map;this.Cu=new Map;this.context.j.addEventListener(g.s5("annotations_module"),function(u){(u=L.AF.get(u))&&u.apply(L)});
this.context.j.addEventListener(g.bz("annotations_module"),function(u){(u=L.Cu.get(u))&&u.apply(L)})},Ch=function(m,F,L,u,q,A,r){m.context.X.listen(F,"click",function(G){m.bR(L,u,q,A||[],r||0,G)});
m.context.X.listen(F,"touchstart",function(){m.q0=!1});
m.context.X.listen(F,"touchmove",function(){m.q0=!0})},PIG=function(m){var F;
return((F=g.z(m,g.Sn))==null?0:F.url)?g.z(m,g.Sn).url:(m=g.z(m,g.iZ))&&m.videoId?(F="/watch?v="+m.videoId,m.playlistId&&(F+="&list="+m.playlistId),m.index&&(F+="&index="+m.index),m.startTimeSeconds&&(F+="&t="+m.startTimeSeconds),F):null},mt=function(m,F,L){return{Z_:(m.impressionLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""}),
click:(L.loggingUrls||[]).map(function(u){return u.baseUrl||""}),
close:(F.dismissLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""}),
cY:(F.impressionLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""}),
MB:(F.clickLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""})}},ik2=function(m,F,L){JN.call(this,F,L);
var u=this;this.j=m;this.eventId=null;this.HR=this.xC=this.Eu=this.G=this.isInitialized=!1;this.cards=[];this.SY=this.Y=this.jY=this.L=this.w8=this.X=null;this.Bb=[];this.b9=this.W=this.Jv=this.Qc=null;this.Z=0;this.ER=new g.Bk(function(){},L.S.AO?4E3:3E3);
g.Q(this,this.ER);this.RW=new g.Bk(function(){});
g.Q(this,this.RW);this.Hb=new vjR(L,function(q,A,r,G,v,l){Ch(u,q,A,r,G,v,l)});
this.hF=new g.d({U:"div",J:"iv-drawer",D:{id:"iv-drawer"},T:[{U:"div",J:"iv-drawer-header",D:{"aria-role":"heading"},T:[{U:"span",J:"iv-drawer-header-text"},{U:"button",UR:["iv-drawer-close-button","ytp-button"],D:{"aria-label":"Hide cards",tabindex:"0"}}]},{U:"div",J:"iv-drawer-content"}]});g.Q(this,this.hF);this.V=this.hF.element;this.aW=new g.Jd(this.hF,330);g.Q(this,this.aW);this.BR=g.Yj("iv-drawer-header-text",this.V);this.B=g.Yj("iv-drawer-content",this.V);this.addCueRange(0,L.videoData.lengthSeconds*
1E3,"",function(){u.Eu&&Fu(u,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(u.Eu=u.G)&&L6(u)});
this.Lu=new g.j7(this);g.Q(this,this.Lu);this.j.addEventListener("videodatachange",this.uv.bind(this))},gjC=function(m,F){F=F.data;
F.autoOpenMs&&m.addCueRange(F.autoOpenMs,0x8000000000000,"",function(){Fu(m,"YOUTUBE_DRAWER_AUTO_OPEN")});
F.autoCloseMs&&m.addCueRange(F.autoCloseMs,0x8000000000000,"",function(){L6(m)});
var L=F.headerText;g.tQ(m.BR,L);m.Y&&(m.j.N("player_tooltip_data_title_killswitch")?m.Y.setAttribute("title",L):m.Y.setAttribute("data-tooltip-title",L));F.eventId&&(m.eventId=F.eventId);m.Qc=g.IN(F.trackingParams);m.W=g.IN(F.closeTrackingParams);m.Jv=g.IN(F.iconTrackingParams)},zCR=function(m,F){var L=F.cardId?F.cardId:"cr:"+m.Z,u=m.j.C().experiments.fu("enable_error_corrections_infocard_web_client");
if(!F.content&&F.teaser.simpleCardTeaserRenderer&&u){var q=F.teaser.simpleCardTeaserRenderer,A=F.icon?F.icon.infoCardIconRenderer:null;if(q.channelAvatar&&q.channelAvatar.thumbnails&&q.channelAvatar.thumbnails.length>0)var r=u_(q.channelAvatar.thumbnails,22,22).url;F={id:L,timestamp:m.Z,type:"simple",teaserText:g.lV(q.message),teaserDurationMs:Number(F.cueRanges[0].teaserDurationMs),startMs:Number(F.cueRanges[0].startCardActiveMs),autoOpen:!!F.autoOpen,sessionData:{},sponsored:!1,Gi:{},En:null,PW:q.trackingParams?
g.IN(q.trackingParams):null,Jv:A&&A.trackingParams?g.IN(A.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,vK:null,title:"",customMessage:"",url:null,onClickCommand:q.onTapCommand||null,AM:r};qE(m,F)}else{var G;if((G=F.content)==null?0:G.simpleCardContentRenderer){if(!F.cueRanges.length)return;r=(q=F.content)==null?void 0:q.simpleCardContentRenderer;q=F.teaser.simpleCardTeaserRenderer;A=F.icon?F.icon.infoCardIconRenderer:null;F={id:L,timestamp:m.Z,type:"simple",teaserText:g.lV(q.message),
teaserDurationMs:Number(F.cueRanges[0].teaserDurationMs),startMs:Number(F.cueRanges[0].startCardActiveMs),autoOpen:!!F.autoOpen,sessionData:AD(m,L,F,r),sponsored:!1,Gi:mt(r,q,r.command),En:r.trackingParams?g.IN(r.trackingParams):null,PW:q.trackingParams?g.IN(q.trackingParams):null,Jv:A&&A.trackingParams?g.IN(A.trackingParams):null,imageUrl:u_(r.image.thumbnails,290,290).url,displayDomain:r.displayDomain?g.lV(r.displayDomain):null,showLinkIcon:!!r.showLinkIcon,vK:null,title:r.title?g.lV(r.title):"",
customMessage:r.callToAction?g.lV(r.callToAction):"",url:g.z(r.command,g.Sn).url?d7({pause_on_navigation:!m.context.videoData.isLivePlayback,target:"new",value:g.z(r.command,g.Sn).url}):null,onClickCommand:null};qE(m,F)}else{var v;if((v=F.content)==null?0:v.collaboratorInfoCardContentRenderer){if(!F.cueRanges.length)return;r=(A=F.content)==null?void 0:A.collaboratorInfoCardContentRenderer;q=F.teaser.simpleCardTeaserRenderer;A=F.icon?F.icon.infoCardIconRenderer:null;F={id:L,timestamp:m.Z,type:"collaborator",
teaserText:g.lV(q.message),teaserDurationMs:Number(F.cueRanges[0].teaserDurationMs),startMs:Number(F.cueRanges[0].startCardActiveMs),autoOpen:!!F.autoOpen,sessionData:AD(m,L,F,r),sponsored:!1,Gi:mt(r,q,r.endpoint),En:r.trackingParams?g.IN(r.trackingParams):null,PW:q.trackingParams?g.IN(q.trackingParams):null,Jv:A&&A.trackingParams?g.IN(A.trackingParams):null,channelId:g.z(r.endpoint,g.bZ).browseId,customMessage:r.customText?g.lV(r.customText):null,profileImageUrl:u_(r.channelAvatar.thumbnails,290,
290).url,title:r.channelName?g.lV(r.channelName):"",metaInfo:[r.subscriberCountText?g.lV(r.subscriberCountText):""],url:d7({pause_on_navigation:!m.context.videoData.isLivePlayback,target:"new",value:g.z(r.endpoint,g.bZ).canonicalBaseUrl?g.z(r.endpoint,g.bZ).canonicalBaseUrl:"/channel/"+g.z(r.endpoint,g.bZ).browseId}),onClickCommand:null};qE(m,F)}else{var l;if((l=F.content)==null?0:l.playlistInfoCardContentRenderer){if(!F.cueRanges.length)return;var w;r=(w=F.content)==null?void 0:w.playlistInfoCardContentRenderer;
q=F.teaser.simpleCardTeaserRenderer;A=F.icon?F.icon.infoCardIconRenderer:null;F={id:L,timestamp:m.Z,type:"playlist",teaserText:g.lV(q.message),teaserDurationMs:Number(F.cueRanges[0].teaserDurationMs),startMs:Number(F.cueRanges[0].startCardActiveMs),autoOpen:!!F.autoOpen,sessionData:AD(m,L,F,r),sponsored:!1,Gi:mt(r,q,r.action),En:r.trackingParams?g.IN(r.trackingParams):null,PW:q.trackingParams?g.IN(q.trackingParams):null,Jv:A&&A.trackingParams?g.IN(A.trackingParams):null,C6:u_(r.playlistThumbnail.thumbnails,
258,290).url,customMessage:r.customMessage?g.lV(r.customMessage):null,playlistVideoCount:g.lV(r.playlistVideoCount),title:r.playlistTitle?g.lV(r.playlistTitle):"",metaInfo:[r.channelName?g.lV(r.channelName):"",r.videoCountText?g.lV(r.videoCountText):""],url:d7({pause_on_navigation:!m.context.videoData.isLivePlayback,target:"new",value:PIG(r.action)}),onClickCommand:null};qE(m,F)}else{var V;if((V=F.content)==null?0:V.videoInfoCardContentRenderer){if(!F.cueRanges.length)return;var I;r=(I=F.content)==
null?void 0:I.videoInfoCardContentRenderer;q=F.teaser.simpleCardTeaserRenderer;A=F.icon?F.icon.infoCardIconRenderer:null;F={id:L,timestamp:m.Z,type:"video",teaserText:g.lV(q.message),teaserDurationMs:Number(F.cueRanges[0].teaserDurationMs),startMs:Number(F.cueRanges[0].startCardActiveMs),autoOpen:!!F.autoOpen,sessionData:AD(m,L,F,r),sponsored:!1,Gi:mt(r,q,r.action),En:r.trackingParams?g.IN(r.trackingParams):null,PW:q.trackingParams?g.IN(q.trackingParams):null,Jv:A&&A.trackingParams?g.IN(A.trackingParams):
null,C6:u_(r.videoThumbnail.thumbnails,258,290).url,videoDuration:r.lengthString?g.lV(r.lengthString):null,customMessage:r.customMessage?g.lV(r.customMessage):null,title:r.videoTitle?g.lV(r.videoTitle):"",metaInfo:[r.channelName?g.lV(r.channelName):"",r.viewCountText?g.lV(r.viewCountText):""],isLiveNow:!!r.badge,url:d7({pause_on_navigation:!m.context.videoData.isLivePlayback,target:"new",value:PIG(r.action)}),onClickCommand:null};qE(m,F)}}}}}m.Z++},u_=function(m,F,L){for(var u=-1,q=-1,A=0;A<m.length;A++){if(m[A].height===
F||m[A].width===L)return m[A];
((m[A].height||0)<F||(m[A].width||0)<L)&&(u<0||(m[u].height||0)<(m[A].height||0)||(m[u].width||0)<(m[A].width||0))?u=A:((m[A].height||0)>=F||(m[A].width||0)>=L)&&(q<0||(m[q].height||0)>(m[A].height||0)||(m[q].width||0)>(m[A].width||0))&&(q=A)}return m[q>=0?q:u]},AD=function(m,F,L,u){return{feature:L.feature?L.feature:"cards",
src_vid:m.context.videoData.videoId,annotation_id:F,ei:m.context.videoData.eventId||"",itct:u.trackingParams||""}},aUm=function(m,F){if(F=YE8(m,F))F===m.X&&(m.X=null),m.j.removeCueRange(F.MH.id),g.o2(F.Ul),g.Fd(m.cards,F),m.jH(),rk(m)},Fu=function(m,F,L){if(!m.G){m.aW.show();
m.w8=new g.Bk(function(){g.rm(m.context.j.getRootNode(),g.oH.IV_DRAWER_OPEN)},0);
m.w8.start();m.Lu.K(m.B,"mousewheel",function(r){m.ER.start();r.preventDefault();r=r||window.event;var G=0;r.type=="MozMousePixelScroll"?G=0==(r.axis==r.HORIZONTAL_AXIS)?r.detail:0:window.opera?G=r.detail:G=r.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?r.wheelDeltaY/-30:r.wheelDeltaY/-1.2:r.wheelDelta/-1.6:r.wheelDeltaY/-3;if(r=G)m.B.scrollTop+=r});
m.G=!0;var u=g.Pe();u&&m.Qc&&m.W&&g.Be(u,[m.Qc,m.W]);F={TRIGGER_TYPE:F};for(var q=g.Z(m.cards),A=q.next();!A.done;A=q.next())A=A.value,A.sT||(A.sT=!0,DLt(m.context.logger,A.MH.Gi.Z_,F)),u&&g.Be(u,[A.MH.En]);xd(m.j);L&&(m.L=new g.Bk(function(){m.jY=m.Y;m.SY.focus()},330),m.L.start())}},L6=function(m){m.G&&(m.aW.hide(),g.ZN(m.Lu),g.GE(m.context.j.getRootNode(),g.oH.IV_DRAWER_OPEN),m.G=!1,xd(m.j),m.L&&m.L.stop(),m.L=new g.Bk(function(){m.jY&&(m.jY.focus(),m.jY=null)},330),m.L.start())},TjG=function(m){g.yg(m.tW(),
[g.oH.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.Jb(m.j,m.V,5);m.qF();m.Y=g.Yj("ytp-cards-button",m.j.getRootNode());m.SY=g.Yj("iv-drawer-close-button",m.V);m.isInitialized=!0},Njc=function(m){m.Bb.push(g.J5("iv-teaser-shown",m.SS,m));
m.Bb.push(g.J5("iv-teaser-hidden",m.wRz,m));m.Bb.push(g.J5("iv-teaser-clicked",m.yO,m));m.HR=!0},prC=function(m,F){var L;
return F.onClickCommand&&((L=g.z(F.onClickCommand,g.yfc))==null?void 0:L.targetId)==="engagement-panel-error-corrections"?(m.b9=F,!0):!1},KNc=function(m,F){m.b9=F;
var L=m.j.getVideoData();if(!L)return!1;L=g.da(L);if(L==null?0:L.markersMap)for(var u,q=0;((u=L)==null?void 0:u.markersMap.length)>q;q++){var A=void 0,r=(A=L)==null?void 0:A.markersMap[q];if(r.key==="ERROR_CORRECTION_MARKERS"&&(A=void 0,(r=(A=r.value)==null?void 0:A.markers)&&r.length>0))return u=void 0,F.startMs=((u=g.z(r[0],g.sBy))==null?void 0:u.timeRangeStartMillis)||0,m.b9=null,!0}return!1},qE=function(m,F){if(!prC(m,F)||KNc(m,F)){var L=fUt(m,F);
if(L){var u={MH:F,Ul:L.element,sT:!1};if(F.onClickCommand)m.j.N("web_infocards_teaser_show_logging_fix")&&(m.HR||Njc(m),aUm(m,F.id),L=m.findLastIndex(u),g.v5(m.cards,L,0,u));else{m.isInitialized||TjG(m);aUm(m,F.id);var q=m.findLastIndex(u);g.v5(m.cards,q,0,u);L.tF(m.B,q);m.jH()}F.autoOpen?m.addCueRange(F.startMs,0x8000000000000,F.id,function(){m.G||(m.X=u,rk(m),xLc(m,u),Fu(m,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(L=m.context.j.getCurrentTime()*1E3,L<5E3&&L>F.startMs&&M3q(m,u),m.addCueRange(F.startMs,
F.startMs+1,F.id,function(){M3q(m,u)}),rk(m))}}},fUt=function(m,F){switch(F.type){case "simple":m=m.Hb;
var L=F.displayDomain?{U:"div",J:"iv-card-image-text",G0:F.displayDomain}:void 0;var u=V38(F);L={U:"div",UR:["iv-card"],T:[{U:"a",J:"iv-click-target",D:{href:F.url?c6(F.url)||"":""},T:[B6(F.imageUrl,L),{U:"div",J:"iv-card-content",T:[nh("h2",void 0,F.title),u]}]}]};L=new g.d(L);H6(m,g.gj("iv-click-target",L.element),F,F.url);F=L;break;case "collaborator":m=m.Hb;L={U:"div",UR:["iv-card","iv-card-channel"],T:[{U:"a",UR:["iv-click-target"],D:{href:c6(F.url)||"","data-ytid":F.channelId},T:[B6(F.profileImageUrl),
{U:"div",J:"iv-card-content",T:[lU6(F),{U:"h2",J:"iv-card-primary-link",G0:F.title},wrC(F)]}]}]};L=new g.d(L);H6(m,g.gj("iv-click-target",L.element),F,F.url);F=L;break;case "playlist":m=m.Hb;L={U:"div",UR:["iv-card","iv-card-playlist"],T:[{U:"a",J:"iv-click-target",D:{href:c6(F.url)||""},T:[B6(F.C6,{U:"div",J:"iv-card-image-overlay",T:[{U:"span",J:"iv-card-playlist-video-count",G0:F.playlistVideoCount}]}),{U:"div",J:"iv-card-content",T:[lU6(F),nh("h2","iv-card-primary-link",F.title),wrC(F)]}]}]};
L=new g.d(L);H6(m,g.gj("iv-click-target",L.element),F,F.url);F=L;break;case "productListing":m=m.Hb;var q=F.offers.length!=0;L=["iv-card"];u="";var A=V38(F);q&&(L.push("iv-card-product-listing"),u="iv-card-primary-link",A=F.offers[0],q=[],A.price&&q.push({U:"div",J:"iv-card-offer-price",G0:A.price}),A.merchant&&q.push({U:"div",J:"iv-card-offer-merchant",G0:A.merchant}),A={U:"div",T:q});q=F.url?c6(F.url)||"":"";L={U:"div",UR:L,D:{tabindex:"0"},T:[{U:"a",UR:["iv-card-image","iv-click-target"],D:{style:"background-image: url("+
F.imageUrl+");",href:q,"aria-hidden":"true",tabindex:"-1"}},{U:"div",J:"iv-card-content",T:[F.sponsored?{U:"div",J:"iv-card-sponsored",T:["Sponsored",{U:"div",J:"iv-ad-info-container",T:[{U:"div",J:"iv-ad-info",G0:"{{adInfo}}"},{U:"div",J:"iv-ad-info-icon-container",T:[{U:"div",J:"iv-ad-info-icon"},{U:"div",J:"iv-ad-info-callout"}]}]}]}:"",{U:"a",J:"iv-click-target",D:{href:q},T:[nh("h2",u,F.title),A]}]}]};L=new g.d(L);u=g.fk("span");g.tQ(u,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
L.setContent(u,"adInfo");H6(m,g.gj("iv-click-target",L.element),F,F.url);F=L;break;case "video":m=m.Hb;u=F.videoDuration?{U:"span",J:"iv-card-video-duration",G0:F.videoDuration}:void 0;A=F.isLiveNow?{U:"span",UR:["yt-badge","yt-badge-live"],G0:"LIVE NOW"}:null;q={U:"div",UR:["iv-card","iv-card-video"],T:[{U:"a",J:"iv-click-target",D:{href:((L=F.url)==null?void 0:c6(L))||""},T:[B6(F.C6,u),{U:"div",J:"iv-card-content",T:[lU6(F),nh("h2","iv-card-primary-link",F.title),wrC(F),A]}]}]};L=new g.d(q);H6(m,
g.gj("iv-click-target",L.element),F,F.url);F=L;break;default:return null}return F},Zkt=function(m){if(m.X)return m.X.MH.type==="productListing";
if(m.j.N("enable_wn_infocards")){var F;return!((F=m.cards)==null||!F.length)&&g.Mr(m.cards,function(L){return L.MH.type==="productListing"})}return g.Mr(m.cards,function(L){return L.MH.type==="productListing"})},rk=function(m){g.lT(m.j.getRootNode(),"ytp-cards-shopping-active",Zkt(m))},M3q=function(m,F){if(!g.A4(m.j.getRootNode(),"ytp-cards-teaser-shown")){if(m.X!==F){var L=g.Pe(),u=m.X?m.X.MH.Jv:m.Jv;
L&&u&&g.He(L,[u]);m.X=F;rk(m)}(L=m.isInitialized&&m.tW().style.display=="none")||(L=m.context.j.getPlayerState(),u=L===0&&m.context.j.getCurrentTime()===0,L=!(L===1||L===3||u));if(!L&&F.MH.teaserDurationMs){var q;L={teaserText:F.MH.teaserText,durationMs:F.MH.teaserDurationMs,onClickCommand:F.MH.onClickCommand,AM:(q=F.MH.AM)!=null?q:null};m.j.Ei(!0,L)}m.RW.isActive()||((!m.G||!m.ER.isActive()&&m.xC)&&xLc(m,F),m.RW.start(910+F.MH.teaserDurationMs))}},xLc=function(m,F){m.hF.Gh?(F=new XB([0,
m.B.scrollTop],[0,F.Ul.offsetTop],600,tRt),m.context.G.listen(F,"animate",function(L){m.B.scrollTop=L.y}),m.context.G.listen(F,"finish",function(L){m.B.scrollTop=L.y}),F.play()):(m.hF.oI(!0),m.B.scrollTop=F.Ul.offsetTop,m.hF.oI(!1))},yx=function(m){return m.X&&m.X.MH?m.X.MH:m.cards[0]&&m.cards[0].MH?m.cards[0].MH:null},YE8=function(m,F){return g.c2(m.cards,function(L){return L.MH.id===F})},Gy=function(m,F,L){JN.call(this,m,F);
this.annotation=L;this.isActive=!1},SER=function(m){var F=m.annotation.data;
"start_ms"in F&&"end_ms"in F&&m.addCueRange(Number(F.start_ms),Number(F.end_ms),m.annotation.id,function(){m.show()},function(){m.hide()})},vU=function(m,F,L){Gy.call(this,m,F,L);
this.X=null;this.G=!1;this.B=null},ojR=function(m,F){var L=L===void 0?0:L;
var u=p$C(F).width;g.lC(F,u);L=new o7Z(F,[u,F.offsetTop],[u-u-L,F.offsetTop],200,X$e);g.Q(m,L);m.context.G.listen(L,"begin",function(){g.$Z(F,!0)});
L.play()},XrG=function(m,F,L,u,q,A,r){this.X=m;
this.G=F;this.S=L;this.videoData=u;this.logger=q;this.j=A;this.B=r},t3G=function(m,F,L){Gy.call(this,m,F,L);
var u=this;this.W=this.isCollapsed=this.hF=!1;this.L=5E3;this.B=this.G=this.X=this.V=null;this.Z=this.createElement({U:"div",UR:["iv-promo-contents"]});this.Y=new g.Bk(function(){u.X.setAttribute("aria-hidden","true");g.$Z(u.G,!1);g.$Z(u.B,!0)},700,this);
g.Q(this,this.Y)},ULe=function(m){var F=m.annotation.data;
if(m.annotation.style==="cta")var L=6;else if(m.annotation.style==="video"||m.annotation.style==="playlist")L=7;m.L=F.collapsedelay_ms||m.L;var u=["iv-promo","iv-promo-inactive"];m.tW().setAttribute("aria-hidden","true");m.tW().setAttribute("aria-label","Promotion");m.tW().tabIndex=0;var q=m.annotation.VV(),A=F.image_url;if(A){var r=m.createElement({U:"div",UR:["iv-promo-img","iv-click-target"]});A=m.createElement({U:"img",D:{src:A,"aria-hidden":"true"}});r.appendChild(A);F.video_duration&&!F.is_live?
(A=m.createElement({U:"span",J:"iv-promo-video-duration",G0:F.video_duration}),r.appendChild(A)):F.playlist_length&&(A=m.createElement({U:"span",J:"iv-promo-playlist-length",G0:F.playlist_length.toString()}),r.appendChild(A));q&&Ch(m,r,q,m.annotation.id,F.session_data,void 0,L)}q?(A=m.createElement({U:"a",J:"iv-promo-txt"}),g.p_(A,c6(q)),m.X=A):m.X=m.createElement({U:"div",J:"iv-promo-txt"});switch(m.annotation.style){case "cta":case "website":var G=m.createElement({U:"p",T:[{U:"strong",G0:F.text_line_1}]});
var v=m.createElement({U:"p",T:[{U:"span",J:"iv-promo-link",G0:F.text_line_2}]});if(A=F.text_line_3){u.push("iv-promo-website-card-cta-redesign");var l=m.createElement({U:"button",UR:["iv-promo-round-expand-icon","ytp-button"]});A=m.createElement({U:"button",UR:["iv-button","iv-promo-button"],T:[{U:"span",J:"iv-button-content",G0:A}]});var w=m.createElement({U:"div",J:"iv-promo-button-container"});w.appendChild(A);q&&Ch(m,m.tW(),q,m.annotation.id,F.session_data,void 0,L)}g.rm(m.X,"iv-click-target");
q&&Ch(m,m.X,q,m.annotation.id,F.session_data,void 0,L);break;case "playlist":case "video":G=m.createElement({U:"p",T:[{U:"span",G0:F.text_line_1}]}),v=m.createElement({U:"p",T:[{U:"strong",G0:F.text_line_2}]}),F.is_live&&(G=v,v=m.createElement({U:"span",UR:["yt-badge","iv-promo-badge-live"],G0:"LIVE NOW"})),g.rm(m.X,"iv-click-target"),q&&Ch(m,m.X,q,m.annotation.id,F.session_data,void 0,L),u.push("iv-promo-video")}G&&m.X.appendChild(G);v&&m.X.appendChild(v);m.Z.appendChild(m.X);w&&m.Z.appendChild(w);
L=m.createElement({U:"div",J:"iv-promo-actions"});m.B=m.createElement({U:"button",UR:["iv-promo-expand","ytp-button"]});m.B.title="Expand";m.context.X.listen(m.B,"click",function(V){Ej2(m,5E3,V)});
L.appendChild(m.B);g.$Z(m.B,!1);m.context.X.listen(m.tW(),"mouseover",m.x0W,m);m.context.X.listen(m.tW(),"mouseout",m.U0b,m);m.context.X.listen(m.tW(),"touchend",function(V){Ej2(m,5E3,V)});
m.G=m.createElement({U:"button",UR:["iv-promo-close","ytp-button"]});m.G.title="Close";m.context.X.listen(m.G,"click",m.annotation.style==="cta"&&F.text_line_3?m.Ou8:m.MYz,m);L.appendChild(m.G);g.yg(m.tW(),u);r&&(g.ML(m.tW(),r),l&&r.appendChild(l));g.ML(m.tW(),m.Z);g.ML(m.tW(),L)},Ej2=function(m,F,L){L.stopPropagation();
k08(m);hCq(m,F);m.X.focus()},WNC=function(m){m.isCollapsed||m.W||m.V||(g.rm(m.tW(),"iv-promo-collapsed"),m.isCollapsed=!0,m.Y.start())},k08=function(m){m.Y.stop();
m.isCollapsed&&(g.vq(m.tW(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),m.isCollapsed=!1,m.X&&m.X.removeAttribute("aria-hidden"),g.$Z(m.B,!1),g.$Z(m.G,!0))},hCq=function(m,F){m.V||(m.V=g.Eg(function(){OkC(this);
WNC(this)},F,m))},OkC=function(m){m.V&&(g.DC.clearTimeout(m.V),m.V=null)},Q2f=function(m){this.j=m},DLt=function(m,F,L){F&&(L?l_(m,F.map(function(u){return g.Mc(u,L)})):l_(m,F))},l_=function(m,F,L,u){var q=1,A=void 0,r=-1;
if(L){var G=!1;A=function(){q--;q||G||(clearTimeout(r),G=!0,L())};
r=setTimeout(function(){G=!0;L()},1E3)}F=g.Z(F||[]);
for(var v=F.next();!v.done;v=F.next())v=v.value,q++,g.oE(v,A);u&&(q++,u!==0&&m.j.sendVideoStatsEngageEvent(u,A))},dLf=function(m){g.$G.call(this,m);
var F=this;this.hF=this.Bb=!1;this.loadNumber=0;this.L={};this.logger=new Q2f(this.player);this.Y=new g.j7(this);this.Z=this.V=null;this.events=new g.j7(this);this.U7=this.W=this.X=null;this.b9=[];g.Q(this,this.Y);this.Y.K(this.player,"onVideoAreaChange",function(){F.publish("onVideoAreaChange")});
this.Y.K(this.player,"onHideControls",function(){F.publish("onHideControls")});
this.Y.K(this.player,"onShowControls",function(){F.publish("onShowControls")});
this.Y.K(this.player,"resize",function(A){F.publish("resize",A)});
this.Y.K(this.player,"presentingplayerstatechange",function(A){F.publish("presentingplayerstatechange",A)});
this.subscribe("presentingplayerstatechange",this.gK,this);this.subscribe("resize",this.Jd,this);this.player.C().xC.subscribe("vast_info_card_add",this.cw,this);g.Q(this,this.events);this.Hb=this.createElement({U:"div",J:"video-custom-annotations"});this.B=new g.d({U:"div",UR:["ytp-player-content","ytp-iv-player-content"]});g.Q(this,this.B);g.Jb(this.player,this.B.element,4);this.B.hide();this.G=new g.d({U:"div",UR:["ytp-iv-video-content"]});g.Q(this,this.G);m=this.createElement({U:"div",J:"video-annotations"});
m.appendChild(this.Hb);this.G.element.appendChild(m);this.Ne()?this.load():this.player.N("web_fix_annotations")&&(this.V=function(){F.loaded||F.sR()||!F.Ne()||(s2R(F),F.load())},this.player.addEventListener("videodatachange",this.V));
var L=this.createElement({U:"style"});(g.iI("HEAD")[0]||document.body).appendChild(L);this.addOnDisposeCallback(function(){g.o2(L)});
if(m=L.sheet){for(var u=g.Z(bkf),q=u.next();!q.done;q=u.next())m.insertRule(q.value,0);u=g.Z(cQZ);for(q=u.next();!q.done;q=u.next())m.insertRule(q.value,0)}},njC=function(m){m=m.createElement({U:"div",
UR:["annotation","annotation-type-custom"]});g.$Z(m,!1);return m},BjC=function(m){var F=m.player.C();
m=m.player.getVideoData();return(F.annotationsLoadPolicy||m.annotationsLoadPolicy)===1&&!m.P$||F.xC.get(m.videoId)||g.mn(m)||g.Fy(m)?!0:!1},FLC=function(m,F){function L(r){var G=m.loadNumber;
m.Z=null;m.loaded&&m.loadNumber===G&&m.player.getVideoData().videoId===u&&(r=g.$Q(r)&&r.responseXML?r.responseXML:null)&&(HkG(m,r),g.rm(m.player.getRootNode(),"iv-module-loaded"))}
var u=F.videoId;g.my()&&(L=JQC(m,L));var q={format:"XML",onFinish:L,onError:function(){m.Z=null},
urlParams:{}};F.isPharma&&(q.urlParams.pharma="1");q.method="POST";q.withCredentials=!0;var A=m.player.C().xC.get(u);A&&CI2(q,A);A=A&&A.iJ;if(!F.v8||A)m.V=function(){if(!m.Bb)m.onVideoDataChange(q);var r=m.player.getVideoData();(r==null?0:g.CK(r))&&!m.hF&&mr8(m,r)},m.player.addEventListener("videodatachange",m.V)},LLe=function(m,F){F=!F.isCued()&&!g.n(F,1024);
m.B.oI(F);m.G.oI(F)},s2R=function(m){m.V&&(m.player.removeEventListener("videodatachange",m.V),m.V=null)},uTf=function(m,F){for(var L={},u=g.Z(F.attributes),q=u.next();!q.done;q=u.next())q=q.value,L[q.name]=q.nodeValue;
for(u=0;u<F.childNodes.length;u++)if(q=F.childNodes[u],g.MN(q)&&q.nodeType==1){if(L[q.tagName])var A=L[q.tagName];else if(q.tagName==="data"){q.childNodes.length>0&&(A=q.childNodes[0].nodeValue,L[q.tagName]=typeof A==="string"?A.trim():A);continue}else A=[],L[q.tagName]=A;q&&q.tagName==="TEXT"?q.childNodes.length===1&&q.childNodes[0].nodeType===3?A.push(q.childNodes[0].nodeValue):A.push(""):q&&A.push(uTf(m,q))}return L},qzZ=function(m){var F=m.player.getVideoData();
if(F.gf){var L=m.player.C().xC.get(F.videoId);if(L){var u={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(q,A,r){q=m.loadNumber;A=F.videoId;m.loaded&&m.loadNumber===q&&m.player.getVideoData().videoId===A&&(r=g.$Q(r)&&r.responseXML?r.responseXML:null)&&HkG(m,r)}};
g.my()&&(u.onFinish=JQC(m,u.onFinish));u.postParams={ic_only:"1"};CI2(u,L);m.Bb=!0;g.pA(F.gf,u)}}},CI2=function(m,F){m.method="POST";
m.postParams=m.postParams||{};F.iJ&&(m.postParams.ic_coll=F.iJ);F.u4&&(m.postParams.ic_track=F.u4)},APe=function(m){var F=new g.d({U:"div"});
g.$Z(F.element,!1);var L=new ik2(m.player,F.element,wk(m));g.Q(L,F);F.tF(m.B.element);L.IB();return L},mr8=function(m,F){var L,u;
if(F=(L=F.getWatchNextResponse())==null?void 0:(u=L.cards)==null?void 0:u.cardCollectionRenderer)m.hF=!0,rPZ(m,F),F.headerText&&m.U7&&(L=g.lV(F.headerText),m.player.N("player_tooltip_data_title_killswitch")?m.U7.setAttribute("title",L):m.U7.setAttribute("data-tooltip-title",L))},wk=function(m){if(!m.W){var F=new E7G(m);
g.Q(m,F);var L=new g.$U(m);g.Q(m,L);m.W=new XrG(F,L,m.player.C(),m.player.getVideoData(),m.logger,m.player,m.zL)}return m.W},HkG=function(m,F){var L=!1,u=F.getElementsByTagName("annotations");
if(u&&!(u.length<1)&&(u=u[0].getAttribute("itct"))){var q=g.Pe();if(q){var A=g.eK();A&&g.Fs(g.kK)(void 0,q,A,[g.IN(u)])}}F=F.getElementsByTagName("annotation");for(u=0;u<F.length;u++){A=uTf(m,F[u]);q=null;try{if(A){var r=A.id,G=/.+/;var v=typeof r==="string"&&G!=null&&r!=null&&r.match(G)?r:"";var l=bj(A.type,yP8),w=bj(A.style,G9R),V=mLe(A.data),I=V.length!==0?JSON.parse(V):{};var R=A.action;A=rQC;if(R==null)var e=null;else if(g.xe(R)){G=[];for(var a=g.Z(R),T=a.next();!T.done;T=a.next()){var f=A(T.value);
f&&G.push(f)}e=G}else{var M=A(R);e=M?[M]:[]}q=v&&l?new yQC(v,l,w,e,I):null}else q=null}catch(mB){}if(q)if(q.type==="branding"||q.type==="promotion"){A=m;G=q;var S=njC(A),t=null;switch(G.type){case "branding":if(A.player.C().xW)break;A.player.N("web_player_overlay_positioned_layout")?(S.setAttribute("data-overlay-order","11"),A.player.MN(S,4,!0)):A.B.element.appendChild(S);t=new vU(S,wk(A),G);break;case "promotion":g.Jb(A.player,S,4),t=new t3G(S,wk(A),G)}t&&t.IB();if(A=t)g.Q(m,A),m.L[q.id]=A}else if(q.type===
"card"||q.type==="drawer"){m.X||(m.X=APe(m),g.Q(m,m.X));if(q.type==="card"){S=m.X;var b=(L=q)&&L.data&&L.data.card_type;q=L.data;if(b)switch(A=q.tracking||{},A={Z_:A.impression,click:A.click,close:A.close,cY:A.teaser_impression,MB:A.teaser_click},G=q.tracking_params||{},t=null,b){case "collaborator":L={id:L.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||
!1,Gi:A,En:G.card?g.IN(G.card):null,PW:G.teaser?g.IN(G.teaser):null,Jv:G.icon?g.IN(G.icon):null,channelId:q.channel_id,customMessage:q.custom_message?q.custom_message:null,profileImageUrl:q.image_url,title:q.title,metaInfo:q.meta_info,url:d7({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null};qE(S,L);break;case "playlist":L={id:L.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,
autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,Gi:A,En:G.card?g.IN(G.card):null,PW:G.teaser?g.IN(G.teaser):null,Jv:G.icon?g.IN(G.icon):null,C6:q.image_url,playlistVideoCount:q.playlist_video_count,customMessage:q.custom_message?q.custom_message:null,title:q.title,metaInfo:q.meta_info,url:d7({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null};qE(S,L);break;case "productListing":q.signin_url&&(t=d7({target:"current",
value:q.signin_url}));b=[];for(var W=q.offers||[],H=0;H<W.length;H++)b.push(new j22(g.c$(W[H].merchant),g.c$(W[H].price)));L={id:L.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,Gi:A,En:G.card?g.IN(G.card):null,PW:G.teaser?g.IN(G.teaser):null,Jv:G.icon?g.IN(G.icon):null,imageUrl:q.image_url,displayDomain:q.display_domain?q.display_domain:
null,showLinkIcon:!!q.show_link_icon,vK:q.button_icon_url?q.button_icon_url:null,title:q.title,customMessage:q.custom_message?q.custom_message:null,url:d7({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),Ci0:t,KhC:q.signin_title?q.signin_title:void 0,A$0:q.signin_message?q.signin_message:void 0,offers:b,onClickCommand:null};qE(S,L);break;case "simple":L={id:L.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,
startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,Gi:A,En:G.card?g.IN(G.card):null,PW:G.teaser?g.IN(G.teaser):null,Jv:G.icon?g.IN(G.icon):null,imageUrl:q.image_url,displayDomain:q.display_domain?q.display_domain:null,showLinkIcon:!!q.show_link_icon,vK:q.button_icon_url?q.button_icon_url:null,title:q.title,customMessage:q.custom_message?q.custom_message:null,url:d7({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null};
qE(S,L);break;case "video":L={id:L.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,Gi:A,En:G.card?g.IN(G.card):null,PW:G.teaser?g.IN(G.teaser):null,Jv:G.icon?g.IN(G.icon):null,C6:q.image_url,videoDuration:q.video_duration||null,customMessage:q.custom_message?q.custom_message:null,title:q.title,metaInfo:q.meta_info,isLiveNow:!!q.is_live_now,
url:d7({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null},qE(S,L)}}else gjC(m.X,q);L=!0}}L&&(xd(m.player),m.Jd())},rPZ=function(m,F){var L=!1;
m.X||(m.X=APe(m),g.Q(m,m.X));for(var u=g.Z(F.cards||[]),q=u.next();!q.done;q=u.next())q=q.value,q.cardRenderer&&(zCR(m.X,q.cardRenderer),L=!0);if(L){var A;(A=m.player.getVideoData())!=null&&g.CK(A)||(L=m.X,u=F.headerText?g.lV(F.headerText):"",g.tQ(L.BR,u),L.Y&&(L.j.N("player_tooltip_data_title_killswitch")?L.Y.setAttribute("title",u):L.Y.setAttribute("data-tooltip-title",u)),L.context.videoData.eventId&&(L.eventId=L.context.videoData.eventId),L.Qc=F.trackingParams?g.IN(F.trackingParams):null,L.W=
F.closeButton.infoCardIconRenderer.trackingParams?g.IN(F.closeButton.infoCardIconRenderer.trackingParams):null,L.Jv=F.icon.infoCardIconRenderer.trackingParams?g.IN(F.icon.infoCardIconRenderer.trackingParams):null,m.Jd());xd(m.player)}},vZm=function(m,F,L,u,q){if(!m.player.C().xW){var A=[];
F.navigationEndpoint&&g.z(F.navigationEndpoint,g.bZ)&&g.z(F.navigationEndpoint,g.bZ).browseId&&A.push(new ulG("openUrl","click",new FNq("/channel/"+g.z(F.navigationEndpoint,g.bZ).browseId,"new",!0,!0)));var r=F.watermark.thumbnails[0];u={channel_name:F.channelName,end_ms:F.endTimeMs,image_height:r.height,image_type:1,image_url:r.url,image_width:r.width,is_mobile:!1,session_data:{annotation_id:L,ei:q,feature:"iv",itct:F.trackingParams,src_vid:u},start_ms:F.startTimeMs};if(F.subscribeButton&&g.z(F.subscribeButton,
g.cL)){u.channel_id=g.z(F.subscribeButton,g.cL).channelId;var G;F=g.z(F.subscribeButton,g.cL);r=q=null;F.subscribed?(F.subscriberCountWithUnsubscribeText&&(q=g.lV(F.subscriberCountWithUnsubscribeText)),F.subscriberCountText&&(r=g.lV(F.subscriberCountText))):(F.subscriberCountText&&(q=g.lV(F.subscriberCountText)),F.subscriberCountWithSubscribeText&&(r=g.lV(F.subscriberCountWithSubscribeText)));var v,l=((v=g.z((G=F.signInEndpoint)==null?void 0:G.commandMetadata,g.Yu))==null?void 0:v.url)||"";G={subscribeText:g.lV(F.unsubscribedButtonText),
subscribeCount:q||"",unsubscribeText:g.lV(F.subscribedButtonText),unsubscribeCount:r||"",enabled:F.enabled||!1,classic:!1,subscribed:F.subscribed||!1,feature:"iv",signInUrl:l};u.standalone_subscribe_button_data=G}A=new yQC(L,"branding","branding",A,u);G=njC(m);m.player.N("web_player_overlay_positioned_layout")?(G.setAttribute("data-overlay-order","11"),m.player.MN(G,4,!0)):m.B.element.appendChild(G);A=new vU(G,wk(m),A);A.IB();g.Q(A,A);m.L[L]=A}},JQC=function(m,F){return function(){var L=g.eC.apply(0,
arguments);
m.sR()||m.b9.push(g.OS.F0(function(){F.apply(null,g.X(L))}))}},lqc=function(m){return m==="annotation-editor"||m==="live-dashboard"};
g.Os.prototype.Ei=g.En(35,function(m,F){var L=g.xG(this.Ms());L&&L.Ei(m,F)});
var Zo={},S1=null;g.W2(XB,g.wm);g.P=XB.prototype;g.P.getDuration=function(){return this.duration};
g.P.play=function(m){if(m||this.X==0)this.progress=0,this.coords=this.B;else if(this.isPlaying())return!1;oX(this);this.startTime=m=g.ke();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.V=this.startTime;this.progress||this.Mg();this.By("play");this.isPaused()&&this.By("resume");this.X=1;var F=g.oG(this);F in Zo||(Zo[F]=this);xim();MRc(this,m);return!0};
g.P.stop=function(m){oX(this);this.X=0;m&&(this.progress=1);Z_G(this,this.progress);this.onStop();this.Rs()};
g.P.pause=function(){this.isPlaying()&&(oX(this),this.X=-1,this.By("pause"))};
g.P.IW=function(){this.X==0||this.stop(!1);this.By("destroy");XB.FF.IW.call(this)};
g.P.destroy=function(){this.dispose()};
g.P.BN=function(){this.By("animate")};
g.P.By=function(m){this.dispatchEvent(new SbC(m,this))};
g.W2(SbC,g.L4);g.W2(tN,XB);tN.prototype.G=function(){};
tN.prototype.BN=function(){this.G();tN.FF.BN.call(this)};
tN.prototype.Rs=function(){this.G();tN.FF.Rs.call(this)};
tN.prototype.Mg=function(){this.G();tN.FF.Mg.call(this)};
g.W2(o7Z,tN);o7Z.prototype.G=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.Y(E7G,g.O);g.P=E7G.prototype;g.P.listen=function(m,F,L,u){L=(0,g.ER)(L,u||this.B);m=g.TL(m,F,L);this.X.push(m);return m};
g.P.Qp=function(m,F,L,u){L=(0,g.ER)(L,u||this.B);m=K5C(m,F,L);this.X.push(m);return m};
g.P.Qd=function(m){g.NY(m);g.Fd(this.X,m)};
g.P.removeAll=function(){g.NY(this.X);this.X.length=0};
g.P.IW=function(){this.removeAll();g.O.prototype.IW.call(this)};g.Y(hGR,g.$G);g.P=hGR.prototype;g.P.load=function(){g.$G.prototype.load.call(this);if(!kd(this)){var m=g.k5N(this.player.getVideoData());m?(m=kJN(m,W5C(this)),hN(this,m,!1)):O_6(this)}};
g.P.unload=function(){hN(this,null);this.V&&(this.V.abort(),this.V=null);g.$G.prototype.unload.call(this)};
g.P.DB=function(m,F){return kd(this)?m==="loadCustomEndscreenRenderer"?(m=kJN(F,"new"),hN(this,m),!0):null:null};
g.P.getOptions=function(){return kd(this)?["loadCustomEndscreenRenderer"]:[]};
g.P.RI=function(){if(this.endscreen&&this.endscreen.elements){var m=this.player.getVideoContentRect();if(m&&m.width!==0&&m.height!==0){var F=this.player.getPlayerSize();if(F&&F.width!==0&&F.height!==0){var L=m.width/m.height;var u=0;for(var q=-1,A=0;A<wO2.length;A++){var r=Math.abs(F.width-wO2[A]);if(q===-1||u>=r)q=A,u=r}u=Vdc[q];this.G&&g.uC(this.G.element,"outline-width",Math.max(F.width,F.height)+"px");for(F=0;F<this.endscreen.elements.length;++F)if(A=this.endscreen.elements[F].id,q=this.B[A],
r=this.L[A],q&&r){var G=r.width*L/r.aspectRatio,v=Math.round(r.width*m.width);A=Math.round(G*m.height);var l=m.left+Math.round(r.left*m.width),w=m.top+Math.round(r.top*m.height);g.Ig(q.element,v,A);g.lC(q.element,l,w);g.vq(q.element,jgZ);v>256||A>256?g.rm(q.element,"ytp-ce-large-round"):v>96||A>96?g.rm(q.element,"ytp-ce-medium-round"):g.rm(q.element,"ytp-ce-small-round");g.vq(q.element,Iq8);v=r.left+r.width/2;r=r.top+G/2;g.rm(q.element,v<=.5&&r<=.5?"ytp-ce-top-left-quad":v>.5&&r<=.5?"ytp-ce-top-right-quad":
v<=.5&&r>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.vq(q.element,Vdc);g.rm(q.element,u);(q=g.z0(document,"div","ytp-ce-expanding-overlay-body",q.element)[0])&&g.uC(q,"height",A+"px")}}}}};
g.P.onCueRangeEnter=function(m){if(this.endscreen)if(m.getId()==="ytp-ce-in-endscreen")sq(this,this.endscreen.impressionUrls),(m=g.Pe())&&this.endscreen.visualElement&&g.n$(m,this.endscreen.visualElement),this.X&&(g.rm(this.X,"ytp-ce-element-show"),this.X.removeAttribute("aria-hidden"),this.player.zN()?g.rm(this.X,"ytp-ce-hide-button-lower"):g.GE(this.X,"ytp-ce-hide-button-lower"));else{m=m.getId().substring(15);var F=this.B[m],L=this.L[m];g.rm(F.element,"ytp-ce-element-show");F.element.removeAttribute("aria-hidden");
F=this.player.getRootNode();g.rm(F,"ytp-ce-shown");sq(this,L.impressionUrls);(F=g.Pe())&&g.n$(F,L.visualElement);this.player.C().W&&this.player.Wb("endscreenelementshown",m)}};
g.P.onCueRangeExit=function(m){if(m.getId()==="ytp-ce-in-endscreen")this.X&&(g.GE(this.X,"ytp-ce-element-show"),this.X.setAttribute("aria-hidden","true"));else{m=m.getId().substring(15);var F=this.B[m];g.GE(F.element,"ytp-ce-element-show");F.element.setAttribute("aria-hidden","true");F=this.player.getRootNode();g.GE(F,"ytp-ce-shown");this.player.C().W&&this.player.Wb("endscreenelementhidden",m)}};
g.P.E5Y=function(m){var F=this;m.target===window&&(new g.Bk(function(){for(var L=g.Z(Object.values(F.B)),u=L.next();!u.done;u=L.next())g.vq(u.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.P.oI=function(m){for(var F=g.Z(Object.values(this.B)),L=F.next();!L.done;L=F.next())L=L.value,m?L.element.setAttribute("hidden",""):L.element.removeAttribute("hidden")};
g.P.cKz=function(m){this.X&&this.player.getRootNode().removeChild(this.X);m&&(g.rm(m,"ytp-ce-hide-button-container"),this.X=m,g.Jb(this.player,this.X,4))};
var wO2=[346,426,470,506,570,640,853,1280,1920],Vdc="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),Iq8=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],jgZ=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var LNG={qBF:"current",iT9:"new"};var qEq={CLOSE:"close",nqz:"openUrl",SUBSCRIBE:"subscribe"},AQf={FxC:"click",CLOSE:"close",uu0:"hidden",agC:"rollOut",du9:"rollOver",B_W:"shown"};yQC.prototype.VV=function(){var m=G08(this,function(F){return F.type==="openUrl"&&F.url!=null});
return m?m.url:null};
var G9R={pWz:"anchored",Xx:"branding",CHANNEL:"channel",T3N:"cta",Xuc:"highlightText",aLP:"label",PLAYLIST:"playlist",POPUP:"popup",kxN:"speech",SUBSCRIBE:"subscribe",N_N:"title",VIDEO:"video",H59:"website"},yP8={Xx:"branding",e4R:"card",Hn8:"drawer",heW:"highlight",VDz:"marker",IgC:"promotion",TEXT:"text",n09:"widget"};var bkf=[".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}"],
cQZ=[".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}"];g.Y(JN,g.O);g.P=JN.prototype;g.P.addCueRange=function(m,F,L,u,q){m=new g.O5(m,F,{id:L,namespace:"annotations_module"});u&&this.AF.set(m,u);q&&this.Cu.set(m,q);this.context.j.RK([m],1)};
g.P.IB=function(){this.context.B.subscribe("resize",this.jH,this)};
g.P.tW=function(){return this.element};
g.P.bR=function(m,F,L,u,q,A){if(this.q0)return!1;A&&(A.stopPropagation(),A.preventDefault());this.navigate(m,L,u,q);return!1};
g.P.show=function(){};
g.P.hide=function(){};
g.P.destroy=function(){g.o2(this.tW())};
g.P.jH=function(){};
g.P.navigate=function(m,F,L,u){var q=this,A=c6(m);if(A){var r=RCC(A,m.target),G=function(){m.X&&q.context.j.pauseVideo();var v=q.context.videoData.RH||!1,l=g.rd(A||"");v&&l&&(l.v||l.list)?q.context.j.FL(l.v,F,l.list,!1):g.hE(A||"",r==="current"?"_top":void 0,F)};
r==="new"&&(G(),G=null);l_(this.context.logger,L,G,u);IUR(A)||(L=g.Pe(),u=F.itct,L&&u&&g.JM(L,g.IN(u)))}};
g.P.IW=function(){this.AF.clear();this.Cu.clear();g.O.prototype.IW.call(this)};
g.P.createElement=function(m){m=new g.d(m);g.Q(this,m);return m.element};g.Y(ik2,JN);g.P=ik2.prototype;g.P.uv=function(){this.b9&&qE(this,this.b9)};
g.P.isAvailable=function(){var m;if(m=!!this.cards.length)(m=this.j.getRootNode())?(m=g.Rg(m),m=173<m.width&&173<m.height):m=!1;return m};
g.P.jH=function(){var m=this.isAvailable();g.$Z(this.tW(),m);g.lT(this.context.j.getRootNode(),g.oH.IV_DRAWER_ENABLED,m);xd(this.j)};
g.P.destroy=function(){this.j.Ei(!1);try{this.j.getRootNode().removeChild(this.V)}catch(m){}g.Cz(this.Bb);g.ZN(this.Lu);this.w8&&this.w8.dispose();this.L&&this.L.dispose();JN.prototype.destroy.call(this)};
g.P.qF=function(){var m=this;this.context.X.listen(g.Yj("iv-drawer-close-button",this.V),"click",this.Bt,this);this.context.X.listen(this.B,"touchend",function(){m.ER.start()});
this.context.X.listen(this.B,"scroll",this.o2,this);this.context.B.subscribe("onHideControls",function(){m.xC=!0});
this.context.B.subscribe("onShowControls",function(){m.xC=!1});
this.context.B.subscribe("onVideoAreaChange",function(){m.xC=g.A4(m.j.getRootNode(),"ytp-autohide")});
this.Bb.push(g.J5("iv-button-shown",this.ZIb,this));this.Bb.push(g.J5("iv-button-hidden",this.JW0,this));Njc(this)};
g.P.findLastIndex=function(m){if(this.cards.length===0)return 0;var F=g.d6(this.cards,function(L){return m.MH.startMs>L.MH.startMs||m.MH.startMs===L.MH.startMs&&m.MH.timestamp>=L.MH.timestamp?!0:!1});
return F===-1?0:F+1};
g.P.Bt=function(){if(this.G){l_(this.context.logger,yx(this).Gi.close);var m=g.Pe();m&&this.W&&g.JM(m,this.W);L6(this)}};
g.P.o2=function(){g.lT(this.V,"iv-drawer-scrolled",this.B.scrollTop>0)};
g.P.ZIb=function(){var m=g.Pe(),F=yx(this);F=F?F.Jv:this.Jv;m&&F&&g.Be(m,[F])};
g.P.JW0=function(){var m=g.Pe(),F=yx(this);F=F?F.Jv:this.Jv;m&&F&&g.He(m,[F])};
g.P.SS=function(){var m=yx(this);l_(this.context.logger,m.Gi.cY);var F=g.Pe();if(F&&m)if(this.j.N("web_infocards_teaser_show_logging_fix")){var L=[];m.PW&&L.push(m.PW);m.Jv&&L.push(m.Jv);L.length>0&&g.Be(F,L)}else g.Be(F,[m.PW,m.Jv])};
g.P.wRz=function(){var m=g.Pe(),F=yx(this);m&&F&&g.He(m,[F.PW])};
g.P.yO=function(m){var F=yx(this),L=g.Pe();this.X?m?(m=this.context.logger,l_(m,F.Gi.MB),m.j.sendVideoStatsEngageEvent(4,void 0),L&&F.PW&&g.JM(L,F.PW)):(m=this.context.logger,l_(m,F.Gi.MB),m.j.sendVideoStatsEngageEvent(4,void 0),L&&F.Jv&&g.JM(L,F.Jv)):(m=this.context.logger,l_(m,F.Gi.MB),m.j.sendVideoStatsEngageEvent(4,void 0),L&&this.Jv&&g.JM(L,this.Jv))};g.Y(Gy,JN);Gy.prototype.IB=function(){JN.prototype.IB.call(this);SER(this)};
Gy.prototype.show=function(){JN.prototype.show.call(this);var m=g.Pe(),F=this.annotation.data;m&&F&&(F=F.session_data)&&g.Be(m,[g.IN(F.itct)])};
Gy.prototype.hide=function(){JN.prototype.hide.call(this);var m=g.Pe(),F=this.annotation.data;m&&F&&(F=F.session_data)&&g.He(m,[g.IN(F.itct)])};g.Y(vU,Gy);
vU.prototype.show=function(){if(!this.isActive){Gy.prototype.show.call(this);if(!this.G){g.rm(this.tW(),"iv-branding");var m=this.annotation.data;this.X=this.createElement({U:"img",UR:["branding-img","iv-click-target"],D:{"aria-label":"Channel watermark",src:m.image_url,width:m.image_width,height:m.image_height}});g.$Z(this.X,!1);var F=this.createElement({U:"button",UR:["branding-img-container","ytp-button"]});F.appendChild(this.X);this.tW().appendChild(F);var L=this.annotation.VV();L&&Ch(this,F,
L,this.annotation.id,m.session_data);this.G=!0}g.$Z(this.tW(),!0);this.isActive=!0;if(this.X){try{ojR(this,this.X)}catch(u){}g.rm(this.context.j.getRootNode(),"ytp-branding-shown");this.context.j.getRootNode().style.setProperty("--branding-image-width",this.X.getAttribute("width")+"px")}}};
vU.prototype.hide=function(){this.isActive&&(Gy.prototype.hide.call(this),g.$Z(this.tW(),!1),this.isActive=!1,g.GE(this.context.j.getRootNode(),"ytp-branding-shown"))};
vU.prototype.destroy=function(){this.B&&(this.B.dispose(),this.B=null);g.GE(this.context.j.getRootNode(),"ytp-branding-shown");Gy.prototype.destroy.call(this)};g.Y(t3G,Gy);g.P=t3G.prototype;g.P.show=function(){this.isActive||(Gy.prototype.show.call(this),this.hF||(ULe(this),this.hF=!0),g.$Z(this.tW(),!0),g.Eg(function(){g.GE(this.tW(),"iv-promo-inactive")},100,this),this.tW().removeAttribute("aria-hidden"),this.isActive=!0,OkC(this),k08(this),hCq(this,this.L))};
g.P.hide=function(){this.isActive&&(g.rm(this.tW(),"iv-promo-inactive"),this.isActive=!1,this.tW().setAttribute("aria-hidden","true"))};
g.P.bR=function(m,F,L,u,q,A){return this.isCollapsed?!1:Gy.prototype.bR.call(this,m,F,L,u,q,A)};
g.P.x0W=function(m){this.W=!0;Ej2(this,500,m)};
g.P.U0b=function(){this.W=!1;WNC(this)};
g.P.MYz=function(m){m.stopPropagation();this.hide()};
g.P.Ou8=function(m){m.stopPropagation();OkC(this);this.isCollapsed=!0;g.rm(this.tW(),"iv-promo-collapsed-no-delay");this.Y.start()};
g.P.destroy=function(){this.Y.dispose();Gy.prototype.destroy.call(this)};g.Y(dLf,g.$G);g.P=dLf.prototype;g.P.DB=function(m,F){if(!lqc(this.player.C().playerStyle))return null;switch(m){case "loadCustomAnnotationsXml":return(m=g.Bv(F))&&HkG(this,m),!0;case "removeCustomAnnotationById":return F&&this.X&&(aUm(this.X,F),xd(this.player)),!0}return null};
g.P.getOptions=function(){return lqc(this.player.C().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.P.Ne=function(){var m=this.player.getVideoData(),F,L,u=(F=m.getWatchNextResponse())==null?void 0:(L=F.playerOverlays)==null?void 0:L.playerOverlayRenderer;if(m.RH||this.player.isMutedByEmbedsMutedAutoplay())return!1;if(!this.player.N("web_fix_annotations"))return BjC(this);if(BjC(this)){if((u==null?void 0:u.isWatermarkEnforced)===!0)return!0;var q;return(q=u==null?void 0:u.isAnnotationsEnabled)!=null?q:!1}return!1};
g.P.Jd=function(){if(this.G){var m=this.player.mP().getVideoContentRect(!0);g.Ig(this.G.element,m.width,m.height);g.lC(this.G.element,m.left,m.top)}if(this.X){var F=this.player.g3();m=this.X;F=F.width;g.lT(m.V,"iv-drawer-small",F<=426);g.lT(m.V,"iv-drawer-big",F>=1280)}};
g.P.gK=function(m){LLe(this,m.state);g.n(m.state,2)&&(this.zN()&&this.QP()&&this.player.getPresentingPlayerType()!==2&&this.e8(!1),this.Ei(!1))};
g.P.load=function(){g.$G.prototype.load.call(this);LLe(this,this.player.getPlayerStateObject());this.loadNumber++;var m=this.player.getVideoData();FLC(this,m);g.Jb(this.player,this.G.element,4);this.Jd();var F=g.Fy(m),L=g.mn(m);if(this.player.N("web_fix_annotations")){if(F){F.featuredChannel&&vZm(this,F.featuredChannel,F.annotationId||"branding",m.videoId||null,m.eventId||null);var u,q;F=(u=this.player.getVideoData().getWatchNextResponse())==null?void 0:(q=u.playerOverlays)==null?void 0:q.playerOverlayRenderer;
if(F!=null&&F.isWatermarkEnforced&&(F==null||!F.isAnnotationsEnabled))return}L&&rPZ(this,L)}else L&&rPZ(this,L),F&&F.featuredChannel&&vZm(this,F.featuredChannel,F.annotationId||"branding",m.videoId||null,m.eventId||null);this.U7=g.Yj("ytp-cards-button",this.player.getRootNode());g.CK(m)&&mr8(this,m)};
g.P.onVideoDataChange=function(){};
g.P.unload=function(){this.player.kM("annotations_module");for(var m=g.Z(Object.keys(this.L)),F=m.next();!F.done;F=m.next())this.L[F.value].destroy();this.W=null;this.X&&(this.X.destroy(),this.X=null,xd(this.player));this.Bb=!1;this.Z&&(this.Z.abort(),this.Z=null);this.hF=!1;this.L={};this.B.hide();g.$G.prototype.unload.call(this);this.G.detach();s2R(this)};
g.P.cw=function(m){m===this.player.getVideoData().videoId&&(this.loaded?qzZ(this):this.load())};
g.P.zN=function(){var m;return((m=this.X)==null?void 0:m.isAvailable())||this.hF};
g.P.QP=function(){return!!this.X&&this.X.G};
g.P.e8=function(m,F,L){F=F===void 0?!1:F;this.zN();this.X&&(m?L?Fu(this.X,L,F):Fu(this.X,"YOUTUBE_DRAWER_AUTO_OPEN",F):L6(this.X))};
g.P.Ei=function(m,F){this.player.publish(m?"cardsteasershow":"cardsteaserhide",F)};
g.P.IW=function(){this.player.C().xC.unsubscribe("vast_info_card_add",this.cw,this);g.GE(this.player.getRootNode(),g.oH.IV_DRAWER_OPEN);for(var m=this.b9,F=g.OS,L=0,u=m.length;L<u;L++)F.hc(m[L]);this.b9.length=0;g.$G.prototype.IW.call(this)};
g.P.createElement=function(m){m=new g.d(m);g.Q(this,m);return m.element};g.R3("annotations_module",dLf);g.R3("creatorendscreen",hGR);})(_yt_player);
